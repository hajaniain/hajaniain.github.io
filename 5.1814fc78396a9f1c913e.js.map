{"version":3,"sources":["./node_modules/jquery-tagcanvas/tagcanvas.js","./node_modules/uuid/lib/rng-browser.js","./node_modules/ng-tagcanvas/__ivy_ngcc__/fesm5/ng-tagcanvas.js.pre-build-optimizer.js","./src/app/components/quote/quote.component.ts","./src/app/components/quote/quote.component.ts.pre-build-optimizer.js","./src/app/components/quote/quote.component.html","./src/app/pages/home/home-routing.module.ts","./src/app/pages/home/home.component.ts","./src/app/pages/home/home.component.ts.pre-build-optimizer.js","./src/app/pages/home/home.component.html","./src/app/pages/home/home-routing.module.ts.pre-build-optimizer.js","./src/app/pages/home/home.module.ts","./src/app/pages/home/home.module.ts.pre-build-optimizer.js","./node_modules/uuid/index.js","./node_modules/uuid/lib/bytesToUuid.js","./node_modules/uuid/v1.js","./node_modules/uuid/v4.js"],"names":["i","j","Oproto","Tproto","TCproto","Mproto","Vproto","TSproto","TCVproto","ocanvas","abs","Math","sin","cos","max","min","ceil","sqrt","pow","hexlookup3","hexlookup2","hexlookup1","0","1","2","3","4","5","6","7","8","9","a","A","b","B","c","C","d","D","e","E","f","F","doc","document","handlers","toString","toUpperCase","Defined","IsObject","o","Clamp","v","mn","mx","isNaN","Nop","TimeNow","Date","valueOf","Shuffle","t","p","length","random","Vector","x","y","z","this","Matrix","PointsOnSphere","n","xr","yr","zr","magic","r","phi","inc","pts","off","PI","parseFloat","push","Cylinder","k","l","Ring","PointsOnCylinderV","m","PointsOnCylinderH","PointsOnRingV","offset","PointsOnRingH","NewCanvas","w","h","window","G_vmlCanvasManager","createElement","width","height","SetGradient","g","gd","createLinearGradient","addColorStop","fillStyle","fillRect","FindGradientColour","tc","cv","gl","weightGradient","gCanvas","getContext","getImageData","data","TextSet","ctxt","font","colour","strings","padx","pady","shadowColour","shadowBlur","shadowOffsets","maxWidth","widths","align","xc","xo","yo","textBaseline","shadowColor","shadowOffsetX","shadowOffsetY","fillText","parseInt","RRect","s","beginPath","moveTo","arcTo","closePath","TextCanvas","stringWidths","valign","scale","ExpandImage","drawImage","ScaleImage","AddBackgroundToImage","othickness","ocolour","padding","radius","ofill","x1","y1","x2","y2","cc","rr","cw","ch","strokeStyle","lineWidth","globalCompositeOperation","image","FindTextBoundingBox","ht","idata","w1","h1","ex","FixFont","replace","AddHandler","addEventListener","attachEvent","AddImage","mscale","ic","bc","oc","iw","ih","imageScale","complete","txtOpt","zoomMax","txtScale","naturalWidth","naturalHeight","fimage","imageRadius","r1","indexOf","arc","fill","RoundImage","HasText","shadow","sc","sb","so","sw","sh","AddShadowToImage","shadowOffset","bgColour","bgOutlineThickness","GetProperty","bgOutline","textColour","outlineMethod","outline","bgRadius","oimage","outlineIncrease","Init","dv","defaultView","pc","charAt","getComputedStyle","getPropertyValue","currentStyle","FindWeight","wFrom","tHeight","getAttribute","EventToCanvasId","target","id","srcElement","parentNode","EventXY","xy","xmul","ymul","offsetX","offsetY","AbsPos","changedTouches","pageX","pageY","MouseOut","TagCanvas","fromElement","my","UnFreeze","EndDrag","MouseMove","tg","tttimer","clearTimeout","canvas","Drag","drawn","MouseDown","cb","button","BeginDrag","MouseUp","touchState","Clicked","TouchDown","touches","targetTouches","pinchZoom","BeginPinch","EndPinch","TouchUp","Draw","TouchMove","Pinch","MouseWheel","cancelBubble","returnValue","preventDefault","Wheel","wheelDelta","detail","Scroll","scrollTimer","Pause","setTimeout","Resume","scrollPause","DrawCanvas","DrawCanvasRAF","NextFrame","interval","getElementById","getBoundingClientRect","dd","documentElement","body","left","pageXOffset","scrollLeft","clientLeft","top","pageYOffset","scrollTop","clientTop","TextSplitter","br","line","text","original","innerText","textContent","Outline","ts","tag","pulse","pulsate","pulsateTo","outlineColour","adash","outlineDash","agap","outlineDashSpace","aspeed","outlineDashSpeed","DrawPulsate","DrawSimple","outlineRadius","SetMethod","Tag","col","bcol","bradius","boutline","bothickness","text_original","line_widths","title","position","textFont","alpha","weighted","weight","cid","lctr","opt","raf","cp","initElement","ie","navigator","appVersion","split","insertBefore","removeChild","options","z1","depth","z2","zoom","max_radius","max_weight","min_weight","textHeight","minBrightness","maxBrightness","lx","lock","ly","frozen","dx","dy","fixedAnim","fixedAlpha","source","repeatTags","minTags","GetTags","transform","Identity","startTime","time","centreImage","Image","onload","centreFunc","cx","cy","setTransform","globalAlpha","src","CentreImage","Animate","dragControl","AnimateDrag","AnimatePosition","animTiming","Smooth","shadowAlpha","strokeRect","ShadowAlphaBroken","Load","hideTags","loaded","HideTags","yaw","initial","maxSpeed","pitch","tooltip","ctitle","Tooltip","TooltipNative","TooltipDiv","ttdiv","className","tooltipClass","style","zIndex","display","appendChild","TooltipNone","noMouse","wheelZoom","started","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","NextFrameRAF","NextFrameTimeout","PinchDistance","t1","t2","tccall","prototype","dot","cross","angle","ac","acos","unit","Rotation","u","sina","cosa","mcos","mul","mmatrix","xform","SetImage","iwidth","iheight","ipos","ipad","iscale","ialign","ivalign","Align","size","space","pos","Create","offx","offy","ix","iy","shadowcv","shadowc","sox","soy","Empty","Lines","cn","cl","childNodes","nodeName","join","nodeType","nodeValue","SplitWidth","words","measureText","om","methods","block","classic","none","funcs","drawFunc","Update","outlineOffset","o2","Ants","ants","l1","l2","g1","g2","seq","setLineDash","DrawOutline","DrawSize","tw","th","oscale","DrawColour","DrawColourText","normal","DrawColourImage","ccanvas","fx","fy","fw","fh","clearRect","save","rect","clip","restore","DrawBlock","ga","useGa","outlineThickness","diff","pulsateTime","Active","PreDraw","PostDraw","LastDraw","Measure","SetShadowColour","SetShadowColourAlpha","SetShadowColourFixed","SetDraw","EqualTo","getElementsByTagName","href","DrawImageIE","DrawImage","DrawText","noSelect","CheckActive","MeasureText","wl","soff","twidth","theight","img","tcv","extents","textAlign","textVAlign","imagePosition","imagePadding","imageAlign","imageVAlign","SetFont","boc","SetWeight","modes","weightMode","Weight","wmin","wmax","wnum","nweight","weightSizeMin","weightSizeMax","weightSize","p1","p2","ae","toPrecision","substr","lastIndexOf","substring","SetAlpha","xoff","yoff","xl","im","Calc","pp","mnb","mxb","xformed","sx","sy","Project","stretchX","stretchY","UpdateActive","evt","createEvent","initMouseEvent","dispatchEvent","fireEvent","location","self","frames","err","open","SourceElements","querySelectorAll","el","etl","tl","Message","CreateTag","txt","imageMode","splitWidth","UpdateTag","valid","ll","weights","wfrom","weightFrom","shape","shapeArgs","rx","ry","rz","vl","taglist","tagmap","pfuncs","sphere","vcylinder","hcylinder","vring","hring","shuffleTags","radiusX","radiusY","radiusZ","shift","concat","apply","listLength","noTagsMessage","found","ol","nl","newlist","added","removed","splice","sort","pop","SetShadow","paused","active","fixed","max_sc","tdelta","aindex","frontsel","frontSelect","centreDrawn","AnimateFixed","SortList","alert","freezeActive","Freeze","fixedCallback","fixedCallbackTag","cursor","activeCursor","SetTTDiv","innerHTML","tooltipDelay","Transform","sp","ym","pm","fa","fadeIn","t0","axis","reverse","freezeDecel","Decel","rs","preFreeze","minSpeed","ay","ap","z0","decel","Zoom","clickToFront","TagToFront","zoomMin","zoomStep","down","dragging","dragThreshold","res","pinched","SetSpeed","FindTag","index","srch","tgt","RotateTag","lt","lg","callback","v1","v2","MakeVector","Start","Delete","Linear","Reload","speed","lat","lng","tt","removeEventListener","detachEvent","iv","0.33","0.66","getRandomValues","crypto","bind","msCrypto","rnds8","Uint8Array","module","exports","rnds","Array","_c0","TagCanvasComponent_a_3_Template","rf","ctx","_r4","$event","tag_r2","$implicit","tagClick","next","TagCanvasComponent","elementRef","_instanceId","canvasId","tagListId","defaultOptions","Object","defineProperty","get","_options","set","value","start","enumerable","configurable","ngAfterViewInit","canvasElement","round","clientWidth","clientHeight","nativeElement","mergedOptions","_a","label","assign","blinkEyes","sent","update","ngDoCheck","tagListState","JSON","stringify","tags","map","_previousTagListState","ngOnDestroy","ɵfac","ɵcmp","type","selectors","viewQuery","_t","first","inputs","outputs","decls","vars","consts","template","directives","styles","Promise","resolve","TagCanvasModule","ɵmod","ɵinj","factory","imports","ngOnInit","QuoteComponent","routes","path","component","tagClicked","console","log","HomeComponent","HomeRoutingModule","forChild","HomeModule","v4","uuid","byteToHex","buf","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","node","clockseq","undefined","seedBytes","msecs","getTime","nsecs","dt","Error","tmh","ii"],"mappings":"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","file":"5.1814fc78396a9f1c913e.js","sourcesContent":["/**\n * Copyright (C) 2010-2015 Graham Breach\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n * \n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * TagCanvas 2.9\n * For more information, please contact <graham@goat1000.com>\n */\n(function(){\n\"use strict\";\nvar i, j, abs = Math.abs, sin = Math.sin, cos = Math.cos, max = Math.max,\n  min = Math.min, ceil = Math.ceil, sqrt = Math.sqrt, pow = Math.pow,\n  hexlookup3 = {}, hexlookup2 = {}, hexlookup1 = {\n  0:\"0,\",   1:\"17,\",  2:\"34,\",  3:\"51,\",  4:\"68,\",  5:\"85,\",\n  6:\"102,\", 7:\"119,\", 8:\"136,\", 9:\"153,\", a:\"170,\", A:\"170,\",\n  b:\"187,\", B:\"187,\", c:\"204,\", C:\"204,\", d:\"221,\", D:\"221,\",\n  e:\"238,\", E:\"238,\", f:\"255,\", F:\"255,\"  \n  }, Oproto, Tproto, TCproto, Mproto, Vproto, TSproto, TCVproto,\n  doc = document, ocanvas, handlers = {};\nfor(i = 0; i < 256; ++i) {\n  j = i.toString(16);\n  if(i < 16)\n    j = '0' + j;\n  hexlookup2[j] = hexlookup2[j.toUpperCase()] = i.toString() + ',';\n}\nfunction Defined(d) {\n  return typeof d != 'undefined';\n}\nfunction IsObject(o) {\n  return typeof o == 'object' && o != null;\n}\nfunction Clamp(v, mn, mx) {\n  return isNaN(v) ? mx : min(mx, max(mn, v));\n}\nfunction Nop() {\n  return false;\n}\nfunction TimeNow() {\n  return new Date().valueOf();\n}\nfunction SortList(l, f) {\n  var nl = [], tl = l.length, i;\n  for(i = 0; i < tl; ++i)\n    nl.push(l[i]);\n  nl.sort(f);\n  return nl;\n}\nfunction Shuffle(a) {\n  var i = a.length-1, t, p;\n  while(i) {\n    p = ~~(Math.random()*i);\n    t = a[i];\n    a[i] = a[p];\n    a[p] = t;\n    --i;\n  }\n}\nfunction Vector(x, y, z) {\n  this.x = x;\n  this.y = y;\n  this.z = z;\n}\nVproto = Vector.prototype;\nVproto.length = function() {\n  return sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n};\nVproto.dot = function(v) {\n  return this.x * v.x + this.y * v.y + this.z * v.z;\n};\nVproto.cross = function(v) {\n  var x = this.y * v.z - this.z * v.y,\n    y = this.z * v.x - this.x * v.z,\n    z = this.x * v.y - this.y * v.x;\n  return new Vector(x, y, z);\n};\nVproto.angle = function(v) {\n  var dot = this.dot(v), ac;\n  if(dot == 0)\n    return Math.PI / 2.0;\n  ac = dot / (this.length() * v.length());\n  if(ac >= 1)\n    return 0;\n  if(ac <= -1)\n    return Math.PI;\n  return Math.acos(ac);\n};\nVproto.unit = function() {\n  var l = this.length();\n  return new Vector(this.x / l, this.y / l, this.z / l);\n};\nfunction MakeVector(lg, lt) {\n  lt = lt * Math.PI / 180;\n  lg = lg * Math.PI / 180;\n  var x = sin(lg) * cos(lt), y = -sin(lt), z = -cos(lg) * cos(lt);\n  return new Vector(x, y, z);\n}\nfunction Matrix(a) {\n  this[1] = {1: a[0],  2: a[1],  3: a[2]};\n  this[2] = {1: a[3],  2: a[4],  3: a[5]};\n  this[3] = {1: a[6],  2: a[7],  3: a[8]};\n}\nMproto = Matrix.prototype;\nMatrix.Identity = function() {\n  return new Matrix([1,0,0, 0,1,0, 0,0,1]);\n};\nMatrix.Rotation = function(angle, u) {\n  var sina = sin(angle), cosa = cos(angle), mcos = 1 - cosa;\n  return new Matrix([\n    cosa + pow(u.x, 2) * mcos, u.x * u.y * mcos - u.z * sina, u.x * u.z * mcos + u.y * sina,\n    u.y * u.x * mcos + u.z * sina, cosa + pow(u.y, 2) * mcos, u.y * u.z * mcos - u.x * sina,\n    u.z * u.x * mcos - u.y * sina, u.z * u.y * mcos + u.x * sina, cosa + pow(u.z, 2) * mcos\n  ]);\n}\nMproto.mul = function(m) {\n  var a = [], i, j, mmatrix = (m.xform ? 1 : 0);\n  for(i = 1; i <= 3; ++i)\n    for(j = 1; j <= 3; ++j) {\n      if(mmatrix)\n        a.push(this[i][1] * m[1][j] +\n          this[i][2] * m[2][j] +\n          this[i][3] * m[3][j]);\n      else\n        a.push(this[i][j] * m);\n    }\n  return new Matrix(a);\n};\nMproto.xform = function(p) {\n  var a = {}, x = p.x, y = p.y, z = p.z;\n  a.x = x * this[1][1] + y * this[2][1] + z * this[3][1];\n  a.y = x * this[1][2] + y * this[2][2] + z * this[3][2];\n  a.z = x * this[1][3] + y * this[2][3] + z * this[3][3];\n  return a;\n};\nfunction PointsOnSphere(n,xr,yr,zr,magic) {\n  var i, y, r, phi, pts = [], off = 2/n, inc;\n  inc = Math.PI * (3 - sqrt(5) + (parseFloat(magic) ? parseFloat(magic) : 0));\n  for(i = 0; i < n; ++i) {\n    y = i * off - 1 + (off / 2);\n    r = sqrt(1 - y*y);\n    phi = i * inc;\n    pts.push([cos(phi) * r * xr, y * yr, sin(phi) * r * zr]);\n  }\n  return pts;\n}\nfunction Cylinder(n,o,xr,yr,zr,magic) {\n  var phi, pts = [], off = 2/n, inc, i, j, k, l;\n  inc = Math.PI * (3 - sqrt(5) + (parseFloat(magic) ? parseFloat(magic) : 0));\n  for(i = 0; i < n; ++i) {\n    j = i * off - 1 + (off / 2);\n    phi = i * inc;\n    k = cos(phi);\n    l = sin(phi);\n    pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\n  }\n  return pts;\n}\nfunction Ring(o, n, xr, yr, zr, j) {\n  var phi, pts = [], inc = Math.PI * 2 / n, i, k, l;\n  for(i = 0; i < n; ++i) {\n    phi = i * inc;\n    k = cos(phi);\n    l = sin(phi);\n    pts.push(o ? [j * xr, k * yr, l * zr] : [k * xr, j * yr, l * zr]);\n  }\n  return pts;\n}\nfunction PointsOnCylinderV(n,xr,yr,zr,m) { return Cylinder(n, 0, xr, yr, zr, m) }\nfunction PointsOnCylinderH(n,xr,yr,zr,m) { return Cylinder(n, 1, xr, yr, zr, m) }\nfunction PointsOnRingV(n, xr, yr, zr, offset) {\n  offset = isNaN(offset) ? 0 : offset * 1;\n  return Ring(0, n, xr, yr, zr, offset);\n}\nfunction PointsOnRingH(n, xr, yr, zr, offset) {\n  offset = isNaN(offset) ? 0 : offset * 1;\n  return Ring(1, n, xr, yr, zr, offset);\n}\nfunction CentreImage(t) {\n  var i = new Image;\n  i.onload = function() {\n    var dx = i.width / 2, dy = i.height / 2;\n    t.centreFunc = function(c, w, h, cx, cy) {\n      c.setTransform(1, 0, 0, 1, 0, 0);\n      c.globalAlpha = 1;\n      c.drawImage(i, cx - dx, cy - dy);\n    };\n  };\n  i.src = t.centreImage;\n}\nfunction SetAlpha(c,a) {\n  var d = c, p1, p2, ae = (a*1).toPrecision(3) + ')';\n  if(c[0] === '#') {\n    if(!hexlookup3[c])\n      if(c.length === 4)\n        hexlookup3[c] = 'rgba(' + hexlookup1[c[1]] + hexlookup1[c[2]] + hexlookup1[c[3]];\n      else\n        hexlookup3[c] = 'rgba(' + hexlookup2[c.substr(1,2)] + hexlookup2[c.substr(3,2)] + hexlookup2[c.substr(5,2)];\n    d = hexlookup3[c] + ae;\n  } else if(c.substr(0,4) === 'rgb(' || c.substr(0,4) === 'hsl(') {\n    d = (c.replace('(','a(').replace(')', ',' + ae));\n  } else if(c.substr(0,5) === 'rgba(' || c.substr(0,5) === 'hsla(') {\n    p1 = c.lastIndexOf(',') + 1, p2 = c.indexOf(')');\n    a *= parseFloat(c.substring(p1,p2));\n    d = c.substr(0,p1) + a.toPrecision(3) + ')';\n  }\n  return d;\n}\nfunction NewCanvas(w,h) {\n  // if using excanvas, give up now\n  if(window.G_vmlCanvasManager)\n    return null;\n  var c = doc.createElement('canvas');\n  c.width = w;\n  c.height = h;\n  return c;\n}\n// I think all browsers pass this test now...\nfunction ShadowAlphaBroken() {\n  var cv = NewCanvas(3,3), c, i;\n  if(!cv)\n    return false;\n  c = cv.getContext('2d');\n  c.strokeStyle = '#000';\n  c.shadowColor = '#fff';\n  c.shadowBlur = 3;\n  c.globalAlpha = 0;\n  c.strokeRect(2,2,2,2);\n  c.globalAlpha = 1;\n  i = c.getImageData(2,2,1,1);\n  cv = null;\n  return (i.data[0] > 0);\n}\nfunction SetGradient(c, l, o, g) {\n  var gd = c.createLinearGradient(0, 0, l, 0), i;\n  for(i in g)\n    gd.addColorStop(1 - i, g[i]);\n  c.fillStyle = gd;\n  c.fillRect(0, o, l, 1);\n}\nfunction FindGradientColour(tc, p, r) {\n  var l = 1024, h = 1, gl = tc.weightGradient, cv, c, i, d;\n  if(tc.gCanvas) {\n    c = tc.gCanvas.getContext('2d');\n    h = tc.gCanvas.height;\n  } else {\n    if(IsObject(gl[0]))\n      h = gl.length;\n    else\n      gl = [gl];\n    tc.gCanvas = cv = NewCanvas(l, h);\n    if(!cv)\n      return null;\n    c = cv.getContext('2d');\n    for(i = 0; i < h; ++i)\n      SetGradient(c, l, i, gl[i]);\n  }\n  r = max(min(r || 0, h - 1), 0);\n  d = c.getImageData(~~((l - 1) * p), r, 1, 1).data;\n  return 'rgba(' + d[0] + ',' + d[1] + ',' + d[2] + ',' + (d[3]/255) + ')';\n}\nfunction TextSet(ctxt, font, colour, strings, padx, pady, shadowColour,\n  shadowBlur, shadowOffsets, maxWidth, widths, align) {\n  var xo = padx + (shadowBlur || 0) + \n    (shadowOffsets.length && shadowOffsets[0] < 0 ? abs(shadowOffsets[0]) : 0),\n    yo = pady + (shadowBlur || 0) + \n    (shadowOffsets.length && shadowOffsets[1] < 0 ? abs(shadowOffsets[1]) : 0), i, xc;\n  ctxt.font = font;\n  ctxt.textBaseline = 'top';\n  ctxt.fillStyle = colour;\n  shadowColour && (ctxt.shadowColor = shadowColour);\n  shadowBlur && (ctxt.shadowBlur = shadowBlur);\n  shadowOffsets.length && (ctxt.shadowOffsetX = shadowOffsets[0],\n    ctxt.shadowOffsetY = shadowOffsets[1]);\n  for(i = 0; i < strings.length; ++i) {\n    xc = 0;\n    if(widths) {\n      if('right' == align) {\n        xc = maxWidth - widths[i];\n      } else if('centre' == align) {\n        xc = (maxWidth - widths[i]) / 2;\n      }\n    }\n    ctxt.fillText(strings[i], xo + xc, yo);\n    yo += parseInt(font);\n  }\n}\nfunction RRect(c, x, y, w, h, r, s) {\n  if(r) {\n    c.beginPath();\n    c.moveTo(x, y + h - r);\n    c.arcTo(x, y, x + r, y, r);\n    c.arcTo(x + w, y, x + w, y + r, r);\n    c.arcTo(x + w, y + h, x + w - r, y + h, r);\n    c.arcTo(x, y + h, x, y + h - r, r);\n    c.closePath();\n    c[s ? 'stroke' : 'fill']();\n  } else {\n    c[s ? 'strokeRect' : 'fillRect'](x, y, w, h);\n  }\n}\nfunction TextCanvas(strings, font, w, h, maxWidth, stringWidths, align, valign,\n  scale) {\n  this.strings = strings;\n  this.font = font;\n  this.width = w;\n  this.height = h;\n  this.maxWidth = maxWidth;\n  this.stringWidths = stringWidths;\n  this.align = align;\n  this.valign = valign;\n  this.scale = scale;\n}\nTCVproto = TextCanvas.prototype;\nTCVproto.SetImage = function(image, w, h, position, padding, align, valign,\n  scale) {\n  this.image = image;\n  this.iwidth = w * this.scale;\n  this.iheight = h * this.scale;\n  this.ipos = position;\n  this.ipad = padding * this.scale;\n  this.iscale = scale;\n  this.ialign = align;\n  this.ivalign = valign;\n};\nTCVproto.Align = function(size, space, a) {\n  var pos = 0;\n  if(a == 'right' || a == 'bottom')\n    pos = space - size;\n  else if(a != 'left' && a != 'top')\n    pos = (space - size) / 2;\n  return pos;\n};\nTCVproto.Create = function(colour, bgColour, bgOutline, bgOutlineThickness,\n  shadowColour, shadowBlur, shadowOffsets, padding, radius) {\n  var cv, cw, ch, c, x1, x2, y1, y2, offx, offy, ix, iy, iw, ih, rr,\n    sox = abs(shadowOffsets[0]), soy = abs(shadowOffsets[1]), shadowcv, shadowc;\n  padding = max(padding, sox + shadowBlur, soy + shadowBlur);\n  x1 = 2 * (padding + bgOutlineThickness);\n  y1 = 2 * (padding + bgOutlineThickness);\n  cw = this.width + x1;\n  ch = this.height + y1;\n  offx = offy = padding + bgOutlineThickness;\n\n  if(this.image) {\n    ix = iy = padding + bgOutlineThickness;\n    iw = this.iwidth;\n    ih = this.iheight;\n    if(this.ipos == 'top' || this.ipos == 'bottom') {\n      if(iw < this.width)\n        ix += this.Align(iw, this.width, this.ialign);\n      else\n        offx += this.Align(this.width, iw, this.align);\n      if(this.ipos == 'top')\n        offy += ih + this.ipad;\n      else\n        iy += this.height + this.ipad;\n      cw = max(cw, iw + x1);\n      ch += ih + this.ipad;\n    } else {\n      if(ih < this.height)\n        iy += this.Align(ih, this.height, this.ivalign);\n      else\n        offy += this.Align(this.height, ih, this.valign);\n      if(this.ipos == 'right')\n        ix += this.width + this.ipad;\n      else\n        offx += iw + this.ipad;\n      cw += iw + this.ipad;\n      ch = max(ch, ih + y1);\n    }\n  }\n\n  cv = NewCanvas(cw, ch);\n  if(!cv)\n    return null;\n  x1 = y1 = bgOutlineThickness / 2;\n  x2 = cw - bgOutlineThickness;\n  y2 = ch - bgOutlineThickness;\n  rr = min(radius, x2 / 2, y2 / 2);\n  c = cv.getContext('2d');\n  if(bgColour) {\n    c.fillStyle = bgColour;\n    RRect(c, x1, y1, x2, y2, rr);\n  }\n  if(bgOutlineThickness) {\n    c.strokeStyle = bgOutline;\n    c.lineWidth = bgOutlineThickness;\n    RRect(c, x1, y1, x2, y2, rr, true);\n  }\n  if(shadowBlur || sox || soy) {\n    // use a transparent canvas to draw on\n    shadowcv = NewCanvas(cw, ch);\n    if(shadowcv) {\n      shadowc = c;\n      c = shadowcv.getContext('2d');\n    }\n  }\n\n  // don't use TextSet shadow support because it adds space for shadow\n  TextSet(c, this.font, colour, this.strings, offx, offy, 0, 0, [],\n    this.maxWidth, this.stringWidths, this.align);\n      \n  if(this.image)\n    c.drawImage(this.image, ix, iy, iw, ih);\n\n  if(shadowc) {\n    // draw the text and image with the added shadow\n    c = shadowc;\n    shadowColour && (c.shadowColor = shadowColour);\n    shadowBlur && (c.shadowBlur = shadowBlur);\n    c.shadowOffsetX = shadowOffsets[0];\n    c.shadowOffsetY = shadowOffsets[1];\n    c.drawImage(shadowcv, 0, 0);\n  }\n  return cv;\n};\nfunction ExpandImage(i, w, h) {\n  var cv = NewCanvas(w, h), c;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.drawImage(i, (w - i.width) / 2, (h - i.height) / 2);\n  return cv;\n}\nfunction ScaleImage(i, w, h) {\n  var cv = NewCanvas(w, h), c;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.drawImage(i, 0, 0, w, h);\n  return cv;\n}\nfunction AddBackgroundToImage(i, w, h, scale, colour, othickness, ocolour,\n  padding, radius, ofill) {\n  var cw = w + ((2 * padding) + othickness) * scale,\n    ch = h + ((2 * padding) + othickness) * scale,\n    cv = NewCanvas(cw, ch), c, x1, y1, x2, y2, ocanvas, cc, rr;\n  if(!cv)\n    return null;\n  othickness *= scale;\n  radius *= scale;\n  x1 = y1 = othickness / 2;\n  x2 = cw - othickness;\n  y2 = ch - othickness;\n  padding = (padding * scale) + x1; // add space for outline\n  c = cv.getContext('2d');\n  rr = min(radius, x2 / 2, y2 / 2);\n  if(colour) {\n    c.fillStyle = colour;\n    RRect(c, x1, y1, x2, y2, rr);\n  }\n  if(othickness) {\n    c.strokeStyle = ocolour;\n    c.lineWidth = othickness;\n    RRect(c, x1, y1, x2, y2, rr, true);\n  }\n  \n  if(ofill) {\n    // use compositing to colour in the image and border\n    ocanvas = NewCanvas(cw, ch);\n    cc = ocanvas.getContext('2d');\n    cc.drawImage(i, padding, padding, w, h);\n    cc.globalCompositeOperation = 'source-in';\n    cc.fillStyle = ocolour;\n    cc.fillRect(0, 0, cw, ch);\n    cc.globalCompositeOperation = 'destination-over';\n    cc.drawImage(cv, 0, 0);\n    cc.globalCompositeOperation = 'source-over';\n    c.drawImage(ocanvas, 0, 0);\n  } else {\n    c.drawImage(i, padding, padding, i.width, i.height);\n  }\n  return {image: cv, width: cw / scale, height: ch / scale};\n}\n/**\n * Rounds off the corners of an image\n */\nfunction RoundImage(i, r, iw, ih, s) {\n  var cv, c, r1 = parseFloat(r), l = max(iw, ih);\n  cv = NewCanvas(iw, ih);\n  if(!cv)\n    return null;\n  if(r.indexOf('%') > 0)\n    r1 = l * r1 / 100;\n  else\n    r1 = r1 * s;\n  c = cv.getContext('2d');\n  c.globalCompositeOperation = 'source-over';\n  c.fillStyle = '#fff';\n  if(r1 >= l/2) {\n    r1 = min(iw,ih) / 2;\n    c.beginPath();\n    c.moveTo(iw/2,ih/2);\n    c.arc(iw/2,ih/2,r1,0,2*Math.PI,false);\n    c.fill();\n    c.closePath();\n  } else {\n    r1 = min(iw/2,ih/2,r1);\n    RRect(c, 0, 0, iw, ih, r1, true);\n    c.fill();\n  }\n  c.globalCompositeOperation = 'source-in';\n  c.drawImage(i, 0, 0, iw, ih);\n  return cv;\n}\n/**\n * Creates a new canvas containing the image and its shadow\n * Returns an object containing the image and its dimensions at z=0\n */\nfunction AddShadowToImage(i, w, h, scale, sc, sb, so) {\n  var sw = abs(so[0]), sh = abs(so[1]), \n    cw = w + (sw > sb ? sw + sb : sb * 2) * scale,\n    ch = h + (sh > sb ? sh + sb : sb * 2) * scale,\n    xo = scale * ((sb || 0) + (so[0] < 0 ? sw : 0)),\n    yo = scale * ((sb || 0) + (so[1] < 0 ? sh : 0)), cv, c;\n  cv = NewCanvas(cw, ch);\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  sc && (c.shadowColor = sc);\n  sb && (c.shadowBlur = sb * scale);\n  so && (c.shadowOffsetX = so[0] * scale, c.shadowOffsetY = so[1] * scale);\n  c.drawImage(i, xo, yo, w, h);\n  return {image: cv, width: cw / scale, height: ch / scale};\n}\nfunction FindTextBoundingBox(s,f,ht) {\n  var w = parseInt(s.toString().length * ht), h = parseInt(ht * 2 * s.length),\n    cv = NewCanvas(w,h), c, idata, w1, h1, x, y, i, ex;\n  if(!cv)\n    return null;\n  c = cv.getContext('2d');\n  c.fillStyle = '#000';\n  c.fillRect(0,0,w,h);\n  TextSet(c,ht + 'px ' + f,'#fff',s,0,0,0,0,[],'centre')\n\n  idata = c.getImageData(0,0,w,h);\n  w1 = idata.width; h1 = idata.height;\n  ex = {\n    min: { x: w1, y: h1 },\n    max: { x: -1, y: -1 }\n  };\n  for(y = 0; y < h1; ++y) {\n    for(x = 0; x < w1; ++x) {\n      i = (y * w1 + x) * 4;\n      if(idata.data[i+1] > 0) {\n        if(x < ex.min.x) ex.min.x = x;\n        if(x > ex.max.x) ex.max.x = x;\n        if(y < ex.min.y) ex.min.y = y;\n        if(y > ex.max.y) ex.max.y = y;\n      }\n    }\n  }\n  // device pixels might not be css pixels\n  if(w1 != w) {\n    ex.min.x *= (w / w1);\n    ex.max.x *= (w / w1);\n  }\n  if(h1 != h) {\n    ex.min.y *= (w / h1);\n    ex.max.y *= (w / h1);\n  }\n\n  cv = null;\n  return ex;\n}\nfunction FixFont(f) {\n  return \"'\" + f.replace(/(\\'|\\\")/g,'').replace(/\\s*,\\s*/g, \"', '\") + \"'\";\n}\nfunction AddHandler(h,f,e) {\n  e = e || doc;\n  if(e.addEventListener)\n    e.addEventListener(h,f,false);\n  else\n    e.attachEvent('on' + h, f);\n}\nfunction RemoveHandler(h,f,e) {\n  e = e || doc;\n  if(e.removeEventListener)\n    e.removeEventListener(h, f);\n  else\n    e.detachEvent('on' + h, f);\n}\nfunction AddImage(i, o, t, tc) {\n  var s = tc.imageScale, mscale, ic, bc, oc, iw, ih;\n  // image not loaded, wait for image onload\n  if(!o.complete)\n    return AddHandler('load',function() { AddImage(i,o,t,tc); }, o);\n  if(!i.complete)\n    return AddHandler('load',function() { AddImage(i,o,t,tc); }, i);\n\n  // Yes, this does look like nonsense, but it makes sure that both the\n  // width and height are actually set and not just calculated. This is\n  // required to keep proportional sizes when the images are hidden, so\n  // the images can be used again for another cloud.\n  o.width = o.width;\n  o.height = o.height;\n\n  if(s) {\n    i.width = o.width * s;\n    i.height = o.height * s;\n  }\n  // the standard width of the image, with imageScale applied\n  t.iw = i.width;\n  t.ih = i.height;\n  if(tc.txtOpt) {\n    ic = i;\n    mscale = tc.zoomMax * tc.txtScale;\n    iw = t.iw * mscale;\n    ih = t.ih * mscale;\n    if(iw < o.naturalWidth || ih < o.naturalHeight) {\n      ic = ScaleImage(i, iw, ih);\n      if(ic)\n        t.fimage = ic;\n    } else {\n      iw = t.iw;\n      ih = t.ih;\n      mscale = 1;\n    }\n    if(parseFloat(tc.imageRadius))\n      t.image = t.fimage = i = RoundImage(t.image, tc.imageRadius, iw, ih, mscale);\n    if(!t.HasText()) {\n      if(tc.shadow) {\n        ic = AddShadowToImage(t.image, iw, ih, mscale, tc.shadow, tc.shadowBlur,\n          tc.shadowOffset);\n        if(ic) {\n          t.fimage = ic.image;\n          t.w = ic.width;\n          t.h = ic.height;\n        }\n      }\n      if(tc.bgColour || tc.bgOutlineThickness) {\n        bc = tc.bgColour == 'tag' ? GetProperty(t.a, 'background-color') :\n          tc.bgColour;\n        oc = tc.bgOutline == 'tag' ? GetProperty(t.a, 'color') : \n          (tc.bgOutline || tc.textColour);\n        iw = t.fimage.width;\n        ih = t.fimage.height;\n        if(tc.outlineMethod == 'colour') {\n          // create the outline version first, using the current image state\n          ic = AddBackgroundToImage(t.fimage, iw, ih, mscale, bc,\n            tc.bgOutlineThickness, t.outline.colour, tc.padding, tc.bgRadius, 1);\n          if(ic)\n            t.oimage = ic.image;\n        }\n        ic = AddBackgroundToImage(t.fimage, iw, ih, mscale, bc, \n          tc.bgOutlineThickness, oc, tc.padding, tc.bgRadius);\n        if(ic) {\n          t.fimage = ic.image;\n          t.w = ic.width;\n          t.h = ic.height;\n        }\n      }\n      if(tc.outlineMethod == 'size') {\n        if(tc.outlineIncrease > 0) {\n          t.iw += 2 * tc.outlineIncrease;\n          t.ih += 2 * tc.outlineIncrease;\n          iw = mscale * t.iw;\n          ih = mscale * t.ih;\n          ic = ScaleImage(t.fimage, iw, ih);\n          t.oimage = ic;\n          t.fimage = ExpandImage(t.fimage, t.oimage.width, t.oimage.height);\n        } else {\n          iw = mscale * (t.iw + (2 * tc.outlineIncrease));\n          ih = mscale * (t.ih + (2 * tc.outlineIncrease));\n          ic = ScaleImage(t.fimage, iw, ih);\n          t.oimage = ExpandImage(ic, t.fimage.width, t.fimage.height);\n        }\n      }\n    }\n  }\n  t.Init();\n}\nfunction GetProperty(e,p) {\n  var dv = doc.defaultView, pc = p.replace(/\\-([a-z])/g,function(a){return a.charAt(1).toUpperCase()});\n  return (dv && dv.getComputedStyle && dv.getComputedStyle(e,null).getPropertyValue(p)) ||\n    (e.currentStyle && e.currentStyle[pc]);\n}\nfunction FindWeight(a, wFrom, tHeight) {\n  var w = 1, p;\n  if(wFrom) {\n    w = 1 * (a.getAttribute(wFrom) || tHeight);\n  } else if(p = GetProperty(a,'font-size')) {\n    w = (p.indexOf('px') > -1 && p.replace('px','') * 1) ||\n      (p.indexOf('pt') > -1 && p.replace('pt','') * 1.25) ||\n      p * 3.3;\n  }\n  return w;\n}\nfunction EventToCanvasId(e) {\n  return e.target && Defined(e.target.id) ? e.target.id :\n    e.srcElement.parentNode.id;\n}\nfunction EventXY(e, c) {\n  var xy, p, xmul = parseInt(GetProperty(c, 'width')) / c.width,\n    ymul = parseInt(GetProperty(c, 'height')) / c.height;\n  if(Defined(e.offsetX)) {\n    xy = {x: e.offsetX, y: e.offsetY};\n  } else {\n    p = AbsPos(c.id);\n    if(Defined(e.changedTouches))\n      e = e.changedTouches[0];\n    if(e.pageX)\n      xy = {x: e.pageX - p.x, y: e.pageY - p.y};\n  }\n  if(xy && xmul && ymul) {\n    xy.x /= xmul;\n    xy.y /= ymul;\n  }\n  return xy;\n}\nfunction MouseOut(e) {\n  var cv = e.target || e.fromElement.parentNode, tc = TagCanvas.tc[cv.id];\n  if(tc) {\n   tc.mx = tc.my = -1;\n   tc.UnFreeze();\n   tc.EndDrag();\n  }\n}\nfunction MouseMove(e) {\n  var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\n  for(i in t.tc) {\n    tc = t.tc[i];\n    if(tc.tttimer) {\n      clearTimeout(tc.tttimer);\n      tc.tttimer = null;\n    }\n  }\n  if(tg && t.tc[tg]) {\n    tc = t.tc[tg];\n    if(p = EventXY(e, tc.canvas)) {\n      tc.mx = p.x;\n      tc.my = p.y;\n      tc.Drag(e, p);\n    }\n    tc.drawn = 0;\n  }\n}\nfunction MouseDown(e) {\n  var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\n    tg = EventToCanvasId(e);\n  if(tg && e.button == cb && t.tc[tg]) {\n    t.tc[tg].BeginDrag(e);\n  }\n}\nfunction MouseUp(e) {\n  var t = TagCanvas, cb = doc.addEventListener ? 0 : 1,\n    tg = EventToCanvasId(e), tc;\n  if(tg && e.button == cb && t.tc[tg]) {\n    tc = t.tc[tg];\n    MouseMove(e);\n    if(!tc.EndDrag() && !tc.touchState)\n      tc.Clicked(e);\n  }\n}\nfunction TouchDown(e) {\n  var tg = EventToCanvasId(e), tc = (tg && TagCanvas.tc[tg]), p;\n  if(tc && e.changedTouches) {\n    if(e.touches.length == 1 && tc.touchState == 0) {\n      tc.touchState = 1;\n      tc.BeginDrag(e);\n      if(p = EventXY(e, tc.canvas)) {\n        tc.mx = p.x;\n        tc.my = p.y;\n        tc.drawn = 0;\n      }\n    } else if(e.targetTouches.length == 2 && tc.pinchZoom) {\n      tc.touchState = 3;\n      tc.EndDrag();\n      tc.BeginPinch(e);\n    } else {\n      tc.EndDrag();\n      tc.EndPinch();\n      tc.touchState = 0;\n    }\n  }\n}\nfunction TouchUp(e) {\n  var tg = EventToCanvasId(e), tc = (tg && TagCanvas.tc[tg]);\n  if(tc && e.changedTouches) {\n    switch(tc.touchState) {\n    case 1:\n      tc.Draw();\n      tc.Clicked();\n      break;\n    case 2:\n      tc.EndDrag();\n      break;\n    case 3:\n      tc.EndPinch();\n    }\n    tc.touchState = 0;\n  }\n}\nfunction TouchMove(e) {\n  var i, t = TagCanvas, tc, p, tg = EventToCanvasId(e);\n  for(i in t.tc) {\n    tc = t.tc[i];\n    if(tc.tttimer) {\n      clearTimeout(tc.tttimer);\n      tc.tttimer = null;\n    }\n  }\n  tc = (tg && t.tc[tg]);\n  if(tc && e.changedTouches && tc.touchState) {\n    switch(tc.touchState) {\n    case 1:\n    case 2:\n      if(p = EventXY(e, tc.canvas)) {\n        tc.mx = p.x;\n        tc.my = p.y;\n        if(tc.Drag(e, p))\n          tc.touchState = 2;\n      }\n      break;\n    case 3:\n      tc.Pinch(e);\n    }\n    tc.drawn = 0;\n  }\n}\nfunction MouseWheel(e) {\n  var t = TagCanvas, tg = EventToCanvasId(e);\n  if(tg && t.tc[tg]) {\n    e.cancelBubble = true;\n    e.returnValue = false;\n    e.preventDefault && e.preventDefault();\n    t.tc[tg].Wheel((e.wheelDelta || e.detail) > 0);\n  }\n}\nfunction Scroll(e) {\n  var i, t = TagCanvas;\n  clearTimeout(t.scrollTimer);\n  for(i in t.tc) {\n    t.tc[i].Pause();\n  }\n  t.scrollTimer = setTimeout(function() {\n    var i, t = TagCanvas;\n    for(i in t.tc) {\n      t.tc[i].Resume();\n    }\n  }, t.scrollPause);\n}\nfunction DrawCanvas() {\n  DrawCanvasRAF(TimeNow());\n}\nfunction DrawCanvasRAF(t) {\n  var tc = TagCanvas.tc, i;\n  TagCanvas.NextFrame(TagCanvas.interval);\n  t = t || TimeNow();\n  for(i in tc)\n    tc[i].Draw(t);\n}\nfunction AbsPos(id) {\n  var e = doc.getElementById(id), r = e.getBoundingClientRect(),\n    dd = doc.documentElement, b = doc.body, w = window,\n    xs = w.pageXOffset || dd.scrollLeft,\n    ys = w.pageYOffset || dd.scrollTop,\n    xo = dd.clientLeft || b.clientLeft,\n    yo = dd.clientTop || b.clientTop;\n  return { x: r.left + xs - xo, y: r.top + ys - yo };\n}\nfunction Project(tc,p1,sx,sy) {\n  var m = tc.radius * tc.z1 / (tc.z1 + tc.z2 + p1.z);\n  return {\n    x: p1.x * m * sx,\n    y: p1.y * m * sy,\n    z: p1.z,\n    w: (tc.z1 - p1.z) / tc.z2\n  };\n}\n/**\n * @constructor\n * for recursively splitting tag contents on <br> tags\n */\nfunction TextSplitter(e) {\n  this.e = e;\n  this.br = 0;\n  this.line = [];\n  this.text = [];\n  this.original = e.innerText || e.textContent;\n}\nTSproto = TextSplitter.prototype;\nTSproto.Empty = function() {\n  for(var i = 0; i < this.text.length; ++i)\n    if(this.text[i].length)\n      return false;\n  return true;\n};\nTSproto.Lines = function(e) {\n  var r = e ? 1 : 0, cn, cl, i;\n  e = e || this.e;\n  cn = e.childNodes;\n  cl = cn.length;\n\n  for(i = 0; i < cl; ++i) {\n    if(cn[i].nodeName == 'BR') {\n      this.text.push(this.line.join(' '));\n      this.br = 1;\n    } else if(cn[i].nodeType == 3) {\n      if(this.br) {\n        this.line = [cn[i].nodeValue];\n        this.br = 0;\n      } else {\n        this.line.push(cn[i].nodeValue);\n      }\n    } else {\n      this.Lines(cn[i]);\n    }\n  }\n  r || this.br || this.text.push(this.line.join(' '));\n  return this.text;\n};\nTSproto.SplitWidth = function(w, c, f, h) {\n  var i, j, words, text = [];\n  c.font = h + 'px ' + f;\n  for(i = 0; i < this.text.length; ++i) {\n    words = this.text[i].split(/\\s+/);\n    this.line = [words[0]];\n    for(j = 1; j < words.length; ++j) {\n      if(c.measureText(this.line.join(' ') + ' ' + words[j]).width > w) {\n        text.push(this.line.join(' '));\n        this.line = [words[j]];\n      } else {\n        this.line.push(words[j]);\n      }\n    }\n    text.push(this.line.join(' '));\n  }\n  return this.text = text;\n};\n/**\n * @constructor\n */\nfunction Outline(tc,t) {\n  this.ts = null;\n  this.tc = tc;\n  this.tag = t;\n  this.x = this.y = this.w = this.h = this.sc = 1;\n  this.z = 0;\n  this.pulse = 1;\n  this.pulsate = tc.pulsateTo < 1;\n  this.colour = tc.outlineColour;\n  this.adash = ~~tc.outlineDash;\n  this.agap = ~~tc.outlineDashSpace || this.adash;\n  this.aspeed = tc.outlineDashSpeed * 1;\n  if(this.colour == 'tag')\n    this.colour = GetProperty(t.a, 'color');\n  else if(this.colour == 'tagbg')\n    this.colour = GetProperty(t.a, 'background-color');\n  this.Draw = this.pulsate ? this.DrawPulsate : this.DrawSimple;\n  this.radius = tc.outlineRadius | 0;\n  this.SetMethod(tc.outlineMethod);\n}\nOproto = Outline.prototype;\nOproto.SetMethod = function(om) {\n  var methods = {\n    block: ['PreDraw','DrawBlock'],\n    colour: ['PreDraw','DrawColour'],\n    outline: ['PostDraw','DrawOutline'],\n    classic: ['LastDraw','DrawOutline'],\n    size: ['PreDraw','DrawSize'],\n    none: ['LastDraw']\n  }, funcs = methods[om] || methods.outline;\n  if(om == 'none') {\n    this.Draw = function() { return 1; }\n  } else {\n    this.drawFunc = this[funcs[1]];\n  }\n  this[funcs[0]] = this.Draw;\n};\nOproto.Update = function(x,y,w,h,sc,z,xo,yo) {\n  var o = this.tc.outlineOffset, o2 = 2 * o;\n  this.x = sc * x + xo - o;\n  this.y = sc * y + yo - o;\n  this.w = sc * w + o2;\n  this.h = sc * h + o2;\n  this.sc = sc; // used to determine frontmost\n  this.z = z;\n};\nOproto.Ants = function(c) {\n  if(!this.adash)\n    return;\n  var l = this.adash, g = this.agap, s = this.aspeed, length = l + g,\n    l1 = 0, l2 = l, g1 = g, g2 = 0, seq = 0, ants;\n  if(s) {\n    seq = abs(s) * (TimeNow() - this.ts) / 50;\n    if(s < 0)\n      seq = 8.64e6 - seq;\n    s = ~~seq % length;\n  }\n  if(s) {\n    if(l >= s) {\n      l1 = l - s;\n      l2 = s;\n    } else {\n      g1 = length - s;\n      g2 = g - g1;\n    }\n    ants = [l1, g1, l2, g2];\n  } else {\n    ants = [l,g];\n  }\n  c.setLineDash(ants);\n}\nOproto.DrawOutline = function(c,x,y,w,h,colour) {\n  var r = min(this.radius, h/2, w/2);\n  c.strokeStyle = colour;\n  this.Ants(c);\n  RRect(c, x, y, w, h, r, true);\n};\nOproto.DrawSize = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var tw = tag.w, th = tag.h, m, i, sc;\n  if(this.pulsate) {\n    if(tag.image)\n      sc = (tag.image.height + this.tc.outlineIncrease) / tag.image.height;\n    else\n      sc = tag.oscale;\n    i = tag.fimage || tag.image;\n    m = 1 + ((sc - 1) * (1-this.pulse));\n    tag.h *= m;\n    tag.w *= m;\n  } else {\n    i = tag.oimage;\n  }\n  tag.alpha = 1;\n  tag.Draw(c, x1, y1, i);\n  tag.h = th;\n  tag.w = tw;\n  return 1;\n};\nOproto.DrawColour = function(c,x,y,w,h,colour,tag,x1,y1) {\n  if(tag.oimage) {\n    if(this.pulse < 1) {\n      tag.alpha = 1 - pow(this.pulse, 2);\n      tag.Draw(c, x1, y1, tag.fimage);\n      tag.alpha = this.pulse;\n    } else {\n      tag.alpha = 1;\n    }\n    tag.Draw(c, x1, y1, tag.oimage);\n    return 1;\n  }\n  return this[tag.image ? 'DrawColourImage' : 'DrawColourText'](c,x,y,w,h,colour,tag,x1,y1);\n};\nOproto.DrawColourText = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var normal = tag.colour;\n  tag.colour = colour;\n  tag.alpha = 1;\n  tag.Draw(c,x1,y1);\n  tag.colour = normal;\n  return 1;\n};\nOproto.DrawColourImage = function(c,x,y,w,h,colour,tag,x1,y1) {\n  var ccanvas = c.canvas, fx = ~~max(x,0), fy = ~~max(y,0), \n    fw = min(ccanvas.width - fx, w) + .5|0, fh = min(ccanvas.height - fy,h) + .5|0, cc;\n  if(ocanvas)\n    ocanvas.width = fw, ocanvas.height = fh;\n  else\n    ocanvas = NewCanvas(fw, fh);\n  if(!ocanvas)\n    return this.SetMethod('outline'); // if using IE and images, give up!\n  cc = ocanvas.getContext('2d');\n\n  cc.drawImage(ccanvas,fx,fy,fw,fh,0,0,fw,fh);\n  c.clearRect(fx,fy,fw,fh);\n  if(this.pulsate) {\n    tag.alpha = 1 - pow(this.pulse, 2);\n  } else {\n    tag.alpha = 1;\n  }\n  tag.Draw(c,x1,y1);\n  c.setTransform(1,0,0,1,0,0);\n  c.save();\n  c.beginPath();\n  c.rect(fx,fy,fw,fh);\n  c.clip();\n  c.globalCompositeOperation = 'source-in';\n  c.fillStyle = colour;\n  c.fillRect(fx,fy,fw,fh);\n  c.restore();\n  c.globalAlpha = 1;\n  c.globalCompositeOperation = 'destination-over';\n  c.drawImage(ocanvas,0,0,fw,fh,fx,fy,fw,fh);\n  c.globalCompositeOperation = 'source-over';\n  return 1;\n};\nOproto.DrawBlock = function(c,x,y,w,h,colour) {\n  var r = min(this.radius, h/2, w/2);\n  c.fillStyle = colour;\n  RRect(c, x, y, w, h, r);\n};\nOproto.DrawSimple = function(c, tag, x1, y1, ga, useGa) {\n  var t = this.tc;\n  c.setTransform(1,0,0,1,0,0);\n  c.strokeStyle = this.colour;\n  c.lineWidth = t.outlineThickness;\n  c.shadowBlur = c.shadowOffsetX = c.shadowOffsetY = 0;\n  c.globalAlpha = useGa ? ga : 1;\n  return this.drawFunc(c,this.x,this.y,this.w,this.h,this.colour,tag,x1,y1);\n};\nOproto.DrawPulsate = function(c, tag, x1, y1) {\n  var diff = TimeNow() - this.ts, t = this.tc,\n    ga = t.pulsateTo + ((1 - t.pulsateTo) * \n    (0.5 + (cos(2 * Math.PI * diff / (1000 * t.pulsateTime)) / 2)));\n  this.pulse = ga = TagCanvas.Smooth(1,ga);\n  return this.DrawSimple(c, tag, x1, y1, ga, 1);\n};\nOproto.Active = function(c,x,y) {\n  var a = (x >= this.x && y >= this.y &&\n    x <= this.x + this.w && y <= this.y + this.h);\n  if(a) {\n    this.ts = this.ts || TimeNow();\n  } else {\n    this.ts = null;\n  }\n  return a;\n};\nOproto.PreDraw = Oproto.PostDraw = Oproto.LastDraw = Nop;\n/**\n * @constructor\n */\nfunction Tag(tc, text, a, v, w, h, col, bcol, bradius, boutline, bothickness,\n  font, padding, original) {\n  this.tc = tc;\n  this.image = null;\n  this.text = text;\n  this.text_original = original;\n  this.line_widths = [];\n  this.title = a.title || null;\n  this.a = a;\n  this.position = new Vector(v[0], v[1], v[2]);\n  this.x = this.y = this.z = 0;\n  this.w = w;\n  this.h = h;\n  this.colour = col || tc.textColour;\n  this.bgColour = bcol || tc.bgColour;\n  this.bgRadius = bradius | 0;\n  this.bgOutline = boutline || this.colour;\n  this.bgOutlineThickness = bothickness | 0;\n  this.textFont = font || tc.textFont;\n  this.padding = padding | 0;\n  this.sc = this.alpha = 1;\n  this.weighted = !tc.weight;\n  this.outline = new Outline(tc,this);\n}\nTproto = Tag.prototype;\nTproto.Init = function(e) {\n  var tc = this.tc;\n  this.textHeight = tc.textHeight;\n  if(this.HasText()) {\n    this.Measure(tc.ctxt,tc);\n  } else {\n    this.w = this.iw;\n    this.h = this.ih;\n  }\n\n  this.SetShadowColour = tc.shadowAlpha ? this.SetShadowColourAlpha : this.SetShadowColourFixed;\n  this.SetDraw(tc);\n};\nTproto.Draw = Nop;\nTproto.HasText = function() {\n  return this.text && this.text[0].length > 0;\n};\nTproto.EqualTo = function(e) {\n  var i = e.getElementsByTagName('img');\n  if(this.a.href != e.href)\n    return 0;\n  if(i.length)\n    return this.image.src == i[0].src;\n  return (e.innerText || e.textContent) == this.text_original;\n};\nTproto.SetImage = function(i) {\n  this.image = this.fimage = i;\n};\nTproto.SetDraw = function(t) {\n  this.Draw = this.fimage ? (t.ie > 7 ? this.DrawImageIE : this.DrawImage) : this.DrawText;\n  t.noSelect && (this.CheckActive = Nop);\n};\nTproto.MeasureText = function(c) {\n  var i, l = this.text.length, w = 0, wl;\n  for(i = 0; i < l; ++i) {\n    this.line_widths[i] = wl = c.measureText(this.text[i]).width;\n    w = max(w, wl);\n  }\n  return w;\n};\nTproto.Measure = function(c,t) {\n  var extents = FindTextBoundingBox(this.text, this.textFont, this.textHeight),\n    s, th, f, soff, cw, twidth, theight, img, tcv;\n  // add the gap at the top to the height to make equal gap at bottom\n  theight = extents ? extents.max.y + extents.min.y : this.textHeight;\n  c.font = this.font = this.textHeight + 'px ' + this.textFont;\n  twidth = this.MeasureText(c);\n  if(t.txtOpt) {\n    s = t.txtScale;\n    th = s * this.textHeight;\n    f = th + 'px ' + this.textFont;\n    soff = [s * t.shadowOffset[0], s * t.shadowOffset[1]];\n    c.font = f;\n    cw = this.MeasureText(c);\n    tcv = new TextCanvas(this.text, f, cw + s, (s * theight) + s, cw,\n      this.line_widths, t.textAlign, t.textVAlign, s);\n\n    if(this.image)\n      tcv.SetImage(this.image, this.iw, this.ih, t.imagePosition, t.imagePadding,\n        t.imageAlign, t.imageVAlign, t.imageScale);\n\n    img = tcv.Create(this.colour, this.bgColour, this.bgOutline,\n      s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n      s * this.padding, s * this.bgRadius);\n\n    // add outline image using highlight colour\n    if(t.outlineMethod == 'colour') {\n      this.oimage = tcv.Create(this.outline.colour, this.bgColour, this.outline.colour,\n        s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n        s * this.padding, s * this.bgRadius);\n\n    } else if(t.outlineMethod == 'size') {\n      extents = FindTextBoundingBox(this.text, this.textFont,\n        this.textHeight + t.outlineIncrease);\n      th = extents.max.y + extents.min.y;\n      f = (s * (this.textHeight + t.outlineIncrease)) + 'px ' + this.textFont;\n      c.font = f;\n      cw = this.MeasureText(c);\n\n      tcv = new TextCanvas(this.text, f, cw + s, (s * th) + s, cw,\n        this.line_widths, t.textAlign, t.textVAlign, s);\n      if(this.image)\n        tcv.SetImage(this.image, this.iw + t.outlineIncrease,\n          this.ih + t.outlineIncrease, t.imagePosition, t.imagePadding,\n          t.imageAlign, t.imageVAlign, t.imageScale);\n          \n      this.oimage = tcv.Create(this.colour, this.bgColour, this.bgOutline,\n        s * this.bgOutlineThickness, t.shadow, s * t.shadowBlur, soff,\n        s * this.padding, s * this.bgRadius);\n\n      this.oscale = this.oimage.width / img.width;\n      if(t.outlineIncrease > 0)\n        img = ExpandImage(img, this.oimage.width, this.oimage.height);\n      else\n        this.oimage = ExpandImage(this.oimage, img.width, img.height);\n    }\n    if(img) {\n      this.fimage = img;\n      twidth = this.fimage.width / s;\n      theight = this.fimage.height / s;\n    }\n    this.SetDraw(t);\n    t.txtOpt = !!this.fimage;\n  }\n  this.h = theight;\n  this.w = twidth;\n};\nTproto.SetFont = function(f, c, bc, boc) {\n  this.textFont = f;\n  this.colour = c;\n  this.bgColour = bc;\n  this.bgOutline = boc;\n  this.Measure(this.tc.ctxt, this.tc);\n};\nTproto.SetWeight = function(w) {\n  var tc = this.tc, modes = tc.weightMode.split(/[, ]/), m, s, wl = w.length;\n  if(!this.HasText())\n    return;\n  this.weighted = true;\n  for(s = 0; s < wl; ++s) {\n    m = modes[s] || 'size';\n    if('both' == m) {\n      this.Weight(w[s], tc.ctxt, tc, 'size', tc.min_weight[s], \n        tc.max_weight[s], s);\n      this.Weight(w[s], tc.ctxt, tc, 'colour', tc.min_weight[s],\n        tc.max_weight[s], s);\n    } else {\n      this.Weight(w[s], tc.ctxt, tc, m, tc.min_weight[s], tc.max_weight[s], s);\n    }\n  }\n  this.Measure(tc.ctxt, tc);\n};\nTproto.Weight = function(w, c, t, m, wmin, wmax, wnum) {\n  w = isNaN(w) ? 1 : w;\n  var nweight = (w - wmin) / (wmax - wmin);\n  if('colour' == m)\n    this.colour = FindGradientColour(t, nweight, wnum);\n  else if('bgcolour' == m)\n    this.bgColour = FindGradientColour(t, nweight, wnum);\n  else if('bgoutline' == m)\n    this.bgOutline = FindGradientColour(t, nweight, wnum);\n  else if('outline' == m)\n    this.outline.colour = FindGradientColour(t, nweight, wnum);\n  else if('size' == m) {\n    if(t.weightSizeMin > 0 && t.weightSizeMax > t.weightSizeMin) {\n      this.textHeight = t.weightSize * \n        (t.weightSizeMin + (t.weightSizeMax - t.weightSizeMin) * nweight);\n    } else {\n      // min textHeight of 1\n      this.textHeight = max(1, w * t.weightSize);\n    }\n  }\n};\nTproto.SetShadowColourFixed = function(c,s,a) {\n  c.shadowColor = s;\n};\nTproto.SetShadowColourAlpha = function(c,s,a) {\n  c.shadowColor = SetAlpha(s, a);\n};\nTproto.DrawText = function(c,xoff,yoff) {\n  var t = this.tc, x = this.x, y = this.y, s = this.sc, i, xl;\n  c.globalAlpha = this.alpha;\n  c.fillStyle = this.colour;\n  t.shadow && this.SetShadowColour(c,t.shadow,this.alpha);\n  c.font = this.font;\n  x += xoff / s;\n  y += (yoff / s) - (this.h / 2);\n  for(i = 0; i < this.text.length; ++i) {\n    xl = x;\n    if('right' == t.textAlign) {\n      xl += this.w / 2 - this.line_widths[i];\n    } else if('centre' == t.textAlign) {\n      xl -= this.line_widths[i] / 2;\n    } else {\n      xl -= this.w / 2;\n    }\n    c.setTransform(s, 0, 0, s, s * xl, s * y);\n    c.fillText(this.text[i], 0, 0);\n    y += this.textHeight;\n  }\n};\nTproto.DrawImage = function(c,xoff,yoff,im) {\n  var x = this.x, y = this.y, s = this.sc,\n    i = im || this.fimage, w = this.w, h = this.h, a = this.alpha,\n    shadow = this.shadow;\n  c.globalAlpha = a;\n  shadow && this.SetShadowColour(c,shadow,a);\n  x += (xoff / s) - (w / 2);\n  y += (yoff / s) - (h / 2);\n  c.setTransform(s, 0, 0, s, s * x, s * y);\n  c.drawImage(i, 0, 0, w, h);\n};\nTproto.DrawImageIE = function(c,xoff,yoff) {\n  var i = this.fimage, s = this.sc,\n    w = i.width = this.w*s, h = i.height = this.h * s,\n    x = (this.x*s) + xoff - (w/2), y = (this.y*s) + yoff - (h/2);\n  c.setTransform(1,0,0,1,0,0);\n  c.globalAlpha = this.alpha;\n  c.drawImage(i, x, y);\n};\nTproto.Calc = function(m,a) {\n  var pp, t = this.tc, mnb = t.minBrightness,\n    mxb = t.maxBrightness, r = t.max_radius;\n  pp = m.xform(this.position);\n  this.xformed = pp;\n  pp = Project(t, pp, t.stretchX, t.stretchY);\n  this.x = pp.x;\n  this.y = pp.y;\n  this.z = pp.z;\n  this.sc = pp.w;\n  this.alpha = a * Clamp(mnb + (mxb - mnb) * (r - this.z) / (2 * r), 0, 1);\n  return this.xformed;\n};\nTproto.UpdateActive = function(c, xoff, yoff) {\n  var o = this.outline, w = this.w, h = this.h,\n    x = this.x - w/2, y = this.y - h/2;\n  o.Update(x, y, w, h, this.sc, this.z, xoff, yoff);\n  return o;\n};\nTproto.CheckActive = function(c,xoff,yoff) {\n  var t = this.tc, o = this.UpdateActive(c, xoff, yoff);\n  return o.Active(c, t.mx, t.my) ? o : null;\n};\nTproto.Clicked = function(e) {\n  var a = this.a, t = a.target, h = a.href, evt;\n  if(t != '' && t != '_self') {\n    if(self.frames[t]) {\n      self.frames[t].document.location = h;\n    } else{\n      try {\n        if(top.frames[t]) {\n          top.frames[t].document.location = h;\n          return;\n        }\n      } catch(err) {\n        // different domain/port/protocol?\n      }\n      window.open(h, t);\n    }\n    return;\n  }\n  if(doc.createEvent) {\n    evt = doc.createEvent('MouseEvents');\n    evt.initMouseEvent('click', 1, 1, window, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, null);\n    if(!a.dispatchEvent(evt))\n      return;\n  } else if(a.fireEvent) {\n    if(!a.fireEvent('onclick'))\n      return;\n  }\n  doc.location = h;\n};\n/**\n * @constructor\n */\nfunction TagCanvas(cid,lctr,opt) {\n  var i, p, c = doc.getElementById(cid), cp = ['id','class','innerHTML'], raf;\n\n  if(!c) throw 0;\n  if(Defined(window.G_vmlCanvasManager)) {\n    c = window.G_vmlCanvasManager.initElement(c);\n    this.ie = parseFloat(navigator.appVersion.split('MSIE')[1]);\n  }\n  if(c && (!c.getContext || !c.getContext('2d').fillText)) {\n    p = doc.createElement('DIV');\n    for(i = 0; i < cp.length; ++i)\n      p[cp[i]] = c[cp[i]];\n    c.parentNode.insertBefore(p,c);\n    c.parentNode.removeChild(c);\n    throw 0;\n  }\n  for(i in TagCanvas.options)\n    this[i] = opt && Defined(opt[i]) ? opt[i] : \n      (Defined(TagCanvas[i]) ? TagCanvas[i] : TagCanvas.options[i]);\n\n  this.canvas = c;\n  this.ctxt = c.getContext('2d');\n  this.z1 = 250 / max(this.depth, 0.001);\n  this.z2 = this.z1 / this.zoom;\n  this.radius = min(c.height, c.width) * 0.0075; // fits radius of 100 in canvas\n  this.max_radius = 100;\n  this.max_weight = [];\n  this.min_weight = [];\n  this.textFont = this.textFont && FixFont(this.textFont);\n  this.textHeight *= 1;\n  this.imageRadius = this.imageRadius.toString();\n  this.pulsateTo = Clamp(this.pulsateTo, 0, 1);\n  this.minBrightness = Clamp(this.minBrightness, 0, 1);\n  this.maxBrightness = Clamp(this.maxBrightness, this.minBrightness, 1);\n  this.ctxt.textBaseline = 'top';\n  this.lx = (this.lock + '').indexOf('x') + 1;\n  this.ly = (this.lock + '').indexOf('y') + 1;\n  this.frozen = this.dx = this.dy = this.fixedAnim = this.touchState = 0;\n  this.fixedAlpha = 1;\n  this.source = lctr || cid;\n  this.repeatTags = min(64, ~~this.repeatTags);\n  this.minTags = min(200, ~~this.minTags);\n  if(~~this.scrollPause > 0)\n    TagCanvas.scrollPause = ~~this.scrollPause;\n  else\n    this.scrollPause = 0;\n  if(this.minTags > 0 && this.repeatTags < 1 && (i = this.GetTags().length))\n    this.repeatTags = ceil(this.minTags / i) - 1;\n  this.transform = Matrix.Identity();\n  this.startTime = this.time = TimeNow();\n  this.mx = this.my = -1;\n  this.centreImage && CentreImage(this);\n  this.Animate = this.dragControl ? this.AnimateDrag : this.AnimatePosition;\n  this.animTiming = (typeof TagCanvas[this.animTiming] == 'function' ?\n    TagCanvas[this.animTiming] : TagCanvas.Smooth);\n  if(this.shadowBlur || this.shadowOffset[0] || this.shadowOffset[1]) {\n    // let the browser translate \"red\" into \"#ff0000\"\n    this.ctxt.shadowColor = this.shadow;\n    this.shadow = this.ctxt.shadowColor;\n    this.shadowAlpha = ShadowAlphaBroken();\n  } else {\n    delete this.shadow;\n  }\n  this.Load();\n  if(lctr && this.hideTags) {\n    (function(t) {\n    if(TagCanvas.loaded)\n      t.HideTags();\n    else\n      AddHandler('load', function() { t.HideTags(); }, window);\n    })(this);\n  }\n\n  this.yaw = this.initial ? this.initial[0] * this.maxSpeed : 0;\n  this.pitch = this.initial ? this.initial[1] * this.maxSpeed : 0;\n  if(this.tooltip) {\n    this.ctitle = c.title;\n    c.title = '';\n    if(this.tooltip == 'native') {\n      this.Tooltip = this.TooltipNative;\n    } else {\n      this.Tooltip = this.TooltipDiv;\n      if(!this.ttdiv) {\n        this.ttdiv = doc.createElement('div');\n        this.ttdiv.className = this.tooltipClass;\n        this.ttdiv.style.position = 'absolute';\n        this.ttdiv.style.zIndex = c.style.zIndex + 1;\n        AddHandler('mouseover',function(e){e.target.style.display='none';},this.ttdiv);\n        doc.body.appendChild(this.ttdiv);\n      }\n    }\n  } else {\n    this.Tooltip = this.TooltipNone;\n  }\n  if(!this.noMouse && !handlers[cid]) {\n    handlers[cid] = [\n      ['mousemove', MouseMove],\n      ['mouseout', MouseOut],\n      ['mouseup', MouseUp],\n      ['touchstart', TouchDown],\n      ['touchend', TouchUp],\n      ['touchcancel', TouchUp],\n      ['touchmove', TouchMove]\n    ];\n    if(this.dragControl) {\n      handlers[cid].push(['mousedown', MouseDown]);\n      handlers[cid].push(['selectstart', Nop]);\n    }\n    if(this.wheelZoom) {\n      handlers[cid].push(['mousewheel', MouseWheel]);\n      handlers[cid].push(['DOMMouseScroll', MouseWheel]);\n    }\n    if(this.scrollPause) {\n      handlers[cid].push(['scroll', Scroll, window]);\n    }\n    for(i = 0; i < handlers[cid].length; ++i) {\n      p = handlers[cid][i];\n      AddHandler(p[0], p[1], p[2] ? p[2] : c);\n    }\n  }\n  if(!TagCanvas.started) {\n    raf = window.requestAnimationFrame = window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame ||\n      window.msRequestAnimationFrame;\n    TagCanvas.NextFrame = raf ? TagCanvas.NextFrameRAF :\n      TagCanvas.NextFrameTimeout;\n    TagCanvas.interval = this.interval;\n    TagCanvas.NextFrame(this.interval);\n    TagCanvas.started = 1;\n  }\n}\nTCproto = TagCanvas.prototype;\nTCproto.SourceElements = function() {\n  if(doc.querySelectorAll)\n    return doc.querySelectorAll('#' + this.source);\n  return [doc.getElementById(this.source)];\n};\nTCproto.HideTags = function() {\n  var el = this.SourceElements(), i;\n  for(i = 0; i < el.length; ++i)\n    el[i].style.display = 'none';\n};\nTCproto.GetTags = function() {\n  var el = this.SourceElements(), etl, tl = [], i, j, k;\n  for(k = 0; k <= this.repeatTags; ++k) {\n    for(i = 0; i < el.length; ++i) {\n      etl = el[i].getElementsByTagName('a');\n      for(j = 0; j < etl.length; ++j) {\n        tl.push(etl[j]);\n      }\n    }\n  }\n  return tl;\n};\nTCproto.Message = function(text) {\n  var tl = [], i, p, tc = text.split(''), a, t, x, z;\n  for(i = 0; i < tc.length; ++i) {\n    if(tc[i] != ' ') {\n      p = i - tc.length / 2;\n      a = doc.createElement('A');\n      a.href = '#';\n      a.innerText = tc[i];\n      x = 100 * sin(p / 9);\n      z = -100 * cos(p / 9);\n      t = new Tag(this, tc[i], a, [x,0,z], 2, 18, '#000', '#fff', 0, 0, 0,\n        'monospace', 2, tc[i]);\n      t.Init();\n      tl.push(t);\n    }\n  }\n  return tl;\n};\nTCproto.CreateTag = function(e) {\n  var im, i, t, txt, ts, font, bc, boc, p = [0, 0, 0];\n  if('text' != this.imageMode) {\n    im = e.getElementsByTagName('img');\n    if(im.length) {\n      i = new Image;\n      i.src = im[0].src;\n\n      if(!this.imageMode) {\n        t = new Tag(this, \"\", e, p, 0, 0);\n        t.SetImage(i);\n        //t.Init();\n        AddImage(i, im[0], t, this);\n        return t;\n      }\n    }\n  }\n  if('image' != this.imageMode) {\n    ts = new TextSplitter(e);\n    txt = ts.Lines();\n    if(!ts.Empty()) {\n      font = this.textFont || FixFont(GetProperty(e,'font-family'));\n      if(this.splitWidth)\n        txt = ts.SplitWidth(this.splitWidth, this.ctxt, font, this.textHeight);\n\n      bc = this.bgColour == 'tag' ? GetProperty(e, 'background-color') :\n        this.bgColour;\n      boc = this.bgOutline == 'tag' ? GetProperty(e, 'color') : this.bgOutline;\n    } else {\n      ts = null;\n    }\n  }\n  if(ts || i) {\n    t = new Tag(this, txt, e, p, 2, this.textHeight + 2,\n      this.textColour || GetProperty(e,'color'), bc, this.bgRadius,\n      boc, this.bgOutlineThickness, font, this.padding, ts && ts.original);\n    if(i) {\n      t.SetImage(i);\n      AddImage(i, im[0], t, this);\n    } else {\n      t.Init();\n    }\n    return t;\n  }\n};\nTCproto.UpdateTag = function(t, a) {\n  var colour = this.textColour || GetProperty(a, 'color'),\n    font = this.textFont || FixFont(GetProperty(a, 'font-family')),\n    bc = this.bgColour == 'tag' ? GetProperty(a, 'background-color') :\n      this.bgColour, boc = this.bgOutline == 'tag' ? GetProperty(a, 'color') :\n      this.bgOutline;\n  t.a = a;\n  t.title = a.title;\n  if(t.colour != colour || t.textFont != font || t.bgColour != bc ||\n    t.bgOutline != boc)\n    t.SetFont(font, colour, bc, boc);\n};\nTCproto.Weight = function(tl) {\n  var ll = tl.length, w, i, s, weights = [], valid,\n    wfrom = this.weightFrom ? this.weightFrom.split(/[, ]/) : [null],\n    wl = wfrom.length;\n  for(i = 0; i < ll; ++i) {\n    weights[i] = [];\n    for(s = 0; s < wl; ++s) {\n      w = FindWeight(tl[i].a, wfrom[s], this.textHeight);\n      if(!this.max_weight[s] || w > this.max_weight[s])\n        this.max_weight[s] = w;\n      if(!this.min_weight[s] || w < this.min_weight[s])\n        this.min_weight[s] = w;\n      weights[i][s] = w;\n    }\n  }\n  for(s = 0; s < wl; ++s) {\n    if(this.max_weight[s] > this.min_weight[s])\n      valid = 1;\n  }\n  if(valid) {\n    for(i = 0; i < ll; ++i) {\n      tl[i].SetWeight(weights[i]);\n    }\n  }\n};\nTCproto.Load = function() {\n  var tl = this.GetTags(), taglist = [], shape, t,\n    shapeArgs, rx, ry, rz, vl, i, tagmap = [], pfuncs = {\n      sphere: PointsOnSphere,\n      vcylinder: PointsOnCylinderV,\n      hcylinder: PointsOnCylinderH,\n      vring: PointsOnRingV,\n      hring: PointsOnRingH\n    };\n\n  if(tl.length) {\n    tagmap.length = tl.length;\n    for(i = 0; i < tl.length; ++i)\n      tagmap[i] = i;\n    this.shuffleTags && Shuffle(tagmap);\n    rx = 100 * this.radiusX;\n    ry = 100 * this.radiusY;\n    rz = 100 * this.radiusZ;\n    this.max_radius = max(rx, max(ry, rz));\n\n    for(i = 0; i < tl.length; ++i) {\n      t = this.CreateTag(tl[tagmap[i]]);\n      if(t)\n        taglist.push(t);\n    }\n    this.weight && this.Weight(taglist, true);\n  \n    if(this.shapeArgs) {\n      this.shapeArgs[0] = taglist.length;\n    } else {\n      shapeArgs = this.shape.toString().split(/[(),]/);\n      shape = shapeArgs.shift();\n      if(typeof window[shape] === 'function')\n        this.shape = window[shape];\n      else\n        this.shape = pfuncs[shape] || pfuncs.sphere;\n      this.shapeArgs = [taglist.length, rx, ry, rz].concat(shapeArgs);\n    }\n    vl = this.shape.apply(this, this.shapeArgs);\n    this.listLength = taglist.length;\n    for(i = 0; i < taglist.length; ++i)\n      taglist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\n  }\n  if(this.noTagsMessage && !taglist.length) {\n    i = (this.imageMode && this.imageMode != 'both' ? this.imageMode + ' ': '');\n    taglist = this.Message('No ' + i + 'tags');\n  }\n  this.taglist = taglist;\n};\nTCproto.Update = function() {\n  var tl = this.GetTags(), newlist = [],\n    taglist = this.taglist, found,\n    added = [], removed = [], vl, ol, nl, i, j;\n\n  if(!this.shapeArgs)\n    return this.Load();\n\n  if(tl.length) {\n    nl = this.listLength = tl.length;\n    ol = taglist.length;\n\n    // copy existing list, populate \"removed\"\n    for(i = 0; i < ol; ++i) {\n      newlist.push(taglist[i]);\n      removed.push(i);\n    }\n\n    // find added and removed tags\n    for(i = 0; i < nl; ++i) {\n      for(j = 0, found = 0; j < ol; ++j) {\n        if(taglist[j].EqualTo(tl[i])) {\n          this.UpdateTag(newlist[j], tl[i]);\n          found = removed[j] = -1;\n        }\n      }\n      if(!found)\n        added.push(i);\n    }\n\n    // clean out found tags from removed list\n    for(i = 0, j = 0; i < ol; ++i) {\n      if(removed[j] == -1)\n        removed.splice(j,1);\n      else\n        ++j;\n    }\n\n    // insert new tags in gaps where old tags removed\n    if(removed.length) {\n      Shuffle(removed);\n      while(removed.length && added.length) {\n        i = removed.shift();\n        j = added.shift();\n        newlist[i] = this.CreateTag(tl[j]);\n      }\n\n      // remove any more (in reverse order)\n      removed.sort(function(a,b) {return a-b});\n      while(removed.length) {\n        newlist.splice(removed.pop(), 1);\n      }\n    }\n\n    // add any extra tags\n    j = newlist.length / (added.length + 1);\n    i = 0;\n    while(added.length) {\n      newlist.splice(ceil(++i * j), 0, this.CreateTag(tl[added.shift()]));\n    }\n\n    // assign correct positions to tags\n    this.shapeArgs[0] = nl = newlist.length;\n    vl = this.shape.apply(this, this.shapeArgs);\n    for(i = 0; i < nl; ++i)\n      newlist[i].position = new Vector(vl[i][0], vl[i][1], vl[i][2]);\n\n    // reweight tags\n    this.weight && this.Weight(newlist);\n  }\n  this.taglist = newlist;\n};\nTCproto.SetShadow = function(c) {\n  c.shadowBlur = this.shadowBlur;\n  c.shadowOffsetX = this.shadowOffset[0];\n  c.shadowOffsetY = this.shadowOffset[1];\n};\nTCproto.Draw = function(t) {\n  if(this.paused)\n    return;\n  var cv = this.canvas, cw = cv.width, ch = cv.height, max_sc = 0,\n    tdelta = (t - this.time) * TagCanvas.interval / 1000,\n    x = cw / 2 + this.offsetX, y = ch / 2 + this.offsetY, c = this.ctxt,\n    active, a, i, aindex = -1, tl = this.taglist, l = tl.length,\n    frontsel = this.frontSelect, centreDrawn = (this.centreFunc == Nop), fixed;\n  this.time = t;\n  if(this.frozen && this.drawn)\n    return this.Animate(cw,ch,tdelta);\n  fixed = this.AnimateFixed();\n  c.setTransform(1,0,0,1,0,0);\n  for(i = 0; i < l; ++i)\n    tl[i].Calc(this.transform, this.fixedAlpha);\n  tl = SortList(tl, function(a,b) {return b.z-a.z});\n  \n  if(fixed && this.fixedAnim.active) {\n    active = this.fixedAnim.tag.UpdateActive(c, x, y);\n  } else {\n    this.active = null;\n    for(i = 0; i < l; ++i) {\n      a = this.mx >= 0 && this.my >= 0 && this.taglist[i].CheckActive(c, x, y);\n      if(a && a.sc > max_sc && (!frontsel || a.z <= 0)) {\n        active = a;\n        aindex = i;\n        active.tag = this.taglist[i];\n        max_sc = a.sc;\n      }\n    }\n    this.active = active;\n  }\n\n  this.txtOpt || (this.shadow && this.SetShadow(c));\n  c.clearRect(0,0,cw,ch);\n  for(i = 0; i < l; ++i) {\n    if(!centreDrawn && tl[i].z <= 0) {\n      // run the centreFunc if the next tag is at the front\n      try { this.centreFunc(c, cw, ch, x, y); }\n      catch(e) {\n        alert(e);\n        // don't run it again\n        this.centreFunc = Nop;\n      }\n      centreDrawn = true;\n    }\n\n    if(!(active && active.tag == tl[i] && active.PreDraw(c, tl[i], x, y)))\n      tl[i].Draw(c, x, y);\n    active && active.tag == tl[i] && active.PostDraw(c);\n  }\n  if(this.freezeActive && active) {\n    this.Freeze();\n  } else {\n    this.UnFreeze();\n    this.drawn = (l == this.listLength);\n  }\n  if(this.fixedCallback) {\n    this.fixedCallback(this,this.fixedCallbackTag);\n    this.fixedCallback = null;\n  }\n  fixed || this.Animate(cw, ch, tdelta);\n  active && active.LastDraw(c);\n  cv.style.cursor = active ? this.activeCursor : '';\n  this.Tooltip(active,this.taglist[aindex]);\n};\nTCproto.TooltipNone = function() { };\nTCproto.TooltipNative = function(active,tag) {\n  if(active)\n    this.canvas.title = tag && tag.title ? tag.title : '';\n  else\n    this.canvas.title = this.ctitle;\n};\nTCproto.SetTTDiv = function(title, tag) {\n  var tc = this, s = tc.ttdiv.style;\n  if(title != tc.ttdiv.innerHTML)\n    s.display = 'none';\n  tc.ttdiv.innerHTML = title;\n  tag && (tag.title = tc.ttdiv.innerHTML);\n  if(s.display == 'none' && ! tc.tttimer) {\n    tc.tttimer = setTimeout(function() {\n      var p = AbsPos(tc.canvas.id);\n      s.display = 'block';\n      s.left = p.x + tc.mx + 'px';\n      s.top = p.y + tc.my + 24 + 'px';\n      tc.tttimer = null;\n    }, tc.tooltipDelay);\n  }\n};\nTCproto.TooltipDiv = function(active,tag) {\n  if(active && tag && tag.title) {\n    this.SetTTDiv(tag.title, tag);\n  } else if(!active && this.mx != -1 && this.my != -1 && this.ctitle.length) {\n    this.SetTTDiv(this.ctitle);\n  } else {\n    this.ttdiv.style.display = 'none';\n  }\n};\nTCproto.Transform = function(tc, p, y) {\n  if(p || y) {\n    var sp = sin(p), cp = cos(p), sy = sin(y), cy = cos(y),\n      ym = new Matrix([cy,0,sy, 0,1,0, -sy,0,cy]),\n      pm = new Matrix([1,0,0, 0,cp,-sp, 0,sp,cp]);\n    tc.transform = tc.transform.mul(ym.mul(pm));\n  }\n};\nTCproto.AnimateFixed = function() {\n  var fa, t1, angle, m, d;\n  if(this.fadeIn) {\n    t1 = TimeNow() - this.startTime;\n    if(t1 >= this.fadeIn) {\n      this.fadeIn = 0;\n      this.fixedAlpha = 1;\n    } else {\n      this.fixedAlpha = t1 / this.fadeIn;\n    }\n  }\n  if(this.fixedAnim) {\n    if(!this.fixedAnim.transform)\n      this.fixedAnim.transform = this.transform;\n    fa = this.fixedAnim, t1 = TimeNow() - fa.t0, angle = fa.angle,\n      m, d = this.animTiming(fa.t, t1);\n    this.transform = fa.transform;\n    if(t1 >= fa.t) {\n      this.fixedCallbackTag = fa.tag;\n      this.fixedCallback = fa.cb;\n      this.fixedAnim = this.yaw = this.pitch = 0;\n    } else {\n      angle *= d;\n    }\n    m = Matrix.Rotation(angle, fa.axis);\n    this.transform = this.transform.mul(m);\n    return (this.fixedAnim != 0);\n  }\n  return false;\n};\nTCproto.AnimatePosition = function(w, h, t) {\n  var tc = this, x = tc.mx, y = tc.my, s, r;\n  if(!tc.frozen && x >= 0 && y >= 0 && x < w && y < h) {\n    s = tc.maxSpeed, r = tc.reverse ? -1 : 1;\n    tc.lx || (tc.yaw = ((x * 2 * s / w) - s) * r * t);\n    tc.ly || (tc.pitch = ((y * 2 * s / h) - s) * -r * t);\n    tc.initial = null;\n  } else if(!tc.initial) {\n    if(tc.frozen && !tc.freezeDecel)\n      tc.yaw = tc.pitch = 0;\n    else\n      tc.Decel(tc);\n  }\n  this.Transform(tc, tc.pitch, tc.yaw);\n};\nTCproto.AnimateDrag = function(w, h, t) {\n  var tc = this, rs = 100 * t * tc.maxSpeed / tc.max_radius / tc.zoom;\n  if(tc.dx || tc.dy) {\n    tc.lx || (tc.yaw = tc.dx * rs / tc.stretchX);\n    tc.ly || (tc.pitch = tc.dy * -rs / tc.stretchY);\n    tc.dx = tc.dy = 0;\n    tc.initial = null;\n  } else if(!tc.initial) {\n    tc.Decel(tc);\n  }\n  this.Transform(tc, tc.pitch, tc.yaw);\n};\nTCproto.Freeze = function() {\n  if(!this.frozen) {\n    this.preFreeze = [this.yaw, this.pitch];\n    this.frozen = 1;\n    this.drawn = 0;\n  }\n};\nTCproto.UnFreeze = function() {\n  if(this.frozen) {\n    this.yaw = this.preFreeze[0];\n    this.pitch = this.preFreeze[1];\n    this.frozen = 0;\n  }\n};\nTCproto.Decel = function(tc) {\n  var s = tc.minSpeed, ay = abs(tc.yaw), ap = abs(tc.pitch);\n  if(!tc.lx && ay > s)\n    tc.yaw = ay > tc.z0 ? tc.yaw * tc.decel : 0;\n  if(!tc.ly && ap > s)\n    tc.pitch = ap > tc.z0 ? tc.pitch * tc.decel : 0;\n};\nTCproto.Zoom = function(r) {\n  this.z2 = this.z1 * (1/r);\n  this.drawn = 0;\n};\nTCproto.Clicked = function(e) {\n  var a = this.active;\n  try {\n    if(a && a.tag)\n      if(this.clickToFront === false || this.clickToFront === null)\n        a.tag.Clicked(e);\n      else\n        this.TagToFront(a.tag, this.clickToFront, function() {\n          a.tag.Clicked(e);\n        }, true);\n  } catch(ex) {\n  }\n};\nTCproto.Wheel = function(i) {\n  var z = this.zoom + this.zoomStep * (i ? 1 : -1);\n  this.zoom = min(this.zoomMax,max(this.zoomMin,z));\n  this.Zoom(this.zoom);\n};\nTCproto.BeginDrag = function(e) {\n  this.down = EventXY(e, this.canvas);\n  e.cancelBubble = true;\n  e.returnValue = false;\n  e.preventDefault && e.preventDefault();\n};\nTCproto.Drag = function(e, p) {\n  if(this.dragControl && this.down) {\n    var t2 = this.dragThreshold * this.dragThreshold,\n      dx = p.x - this.down.x, dy = p.y - this.down.y;\n    if(this.dragging || dx * dx + dy * dy > t2) {\n      this.dx = dx;\n      this.dy = dy;\n      this.dragging = 1;\n      this.down = p;\n    }\n  }\n  return this.dragging;\n};\nTCproto.EndDrag = function() {\n  var res = this.dragging;\n  this.dragging = this.down = null;\n  return res;\n};\nfunction PinchDistance(e) {\n  var t1 = e.targetTouches[0], t2 = e.targetTouches[1];\n  return sqrt(pow(t2.pageX - t1.pageX, 2) + pow(t2.pageY - t1.pageY, 2));\n}\nTCproto.BeginPinch = function(e) {\n  this.pinched = [PinchDistance(e), this.zoom];\n  e.preventDefault && e.preventDefault();\n};\nTCproto.Pinch = function(e) {\n  var z, d, p = this.pinched;\n  if(!p)\n    return;\n  d = PinchDistance(e);\n  z = p[1] * d / p[0];\n  this.zoom = min(this.zoomMax,max(this.zoomMin,z));\n  this.Zoom(this.zoom);\n};\nTCproto.EndPinch = function(e) {\n  this.pinched = null;\n};\nTCproto.Pause = function() { this.paused = true; };\nTCproto.Resume = function() { this.paused = false; };\nTCproto.SetSpeed = function(i) {\n  this.initial = i;\n  this.yaw = i[0] * this.maxSpeed;\n  this.pitch = i[1] * this.maxSpeed;\n};\nTCproto.FindTag = function(t) {\n  if(!Defined(t))\n    return null;\n  Defined(t.index) && (t = t.index);\n  if(!IsObject(t))\n    return this.taglist[t];\n  var srch, tgt, i;\n  if(Defined(t.id))\n    srch = 'id', tgt = t.id;\n  else if(Defined(t.text))\n    srch = 'innerText', tgt = t.text;\n\n  for(i = 0; i < this.taglist.length; ++i)\n    if(this.taglist[i].a[srch] == tgt)\n      return this.taglist[i];\n};\nTCproto.RotateTag = function(tag, lt, lg, time, callback, active) {\n  var t = tag.Calc(this.transform, 1), v1 = new Vector(t.x, t.y, t.z),\n    v2 = MakeVector(lg, lt), angle = v1.angle(v2), u = v1.cross(v2).unit();\n  if(angle == 0) {\n    this.fixedCallbackTag = tag;\n    this.fixedCallback = callback;\n  } else {\n    this.fixedAnim = {\n      angle: -angle,\n      axis: u,\n      t: time,\n      t0: TimeNow(),\n      cb: callback,\n      tag: tag,\n      active: active\n    };\n  }\n};\nTCproto.TagToFront = function(tag, time, callback, active) {\n  this.RotateTag(tag, 0, 0, time, callback, active);\n};\nTagCanvas.Start = function(id,l,o) {\n  TagCanvas.Delete(id);\n  TagCanvas.tc[id] = new TagCanvas(id,l,o);\n};\nfunction tccall(f,id) {\n  TagCanvas.tc[id] && TagCanvas.tc[id][f]();\n}\nTagCanvas.Linear = function(t, t0) { return t0 / t; }\nTagCanvas.Smooth = function(t, t0) { return 0.5 - cos(t0 * Math.PI / t) / 2; }\nTagCanvas.Pause = function(id) { tccall('Pause',id); };\nTagCanvas.Resume = function(id) { tccall('Resume',id); };\nTagCanvas.Reload = function(id) { tccall('Load',id); };\nTagCanvas.Update = function(id) { tccall('Update',id); };\nTagCanvas.SetSpeed = function(id, speed) {\n  if(IsObject(speed) && TagCanvas.tc[id] &&\n    !isNaN(speed[0]) && !isNaN(speed[1])) {\n    TagCanvas.tc[id].SetSpeed(speed);\n    return true;\n  }\n  return false;\n};\nTagCanvas.TagToFront = function(id, options) {\n  if(!IsObject(options))\n    return false;\n  options.lat = options.lng = 0;\n  return TagCanvas.RotateTag(id, options);\n};\nTagCanvas.RotateTag = function(id, options) {\n  if(IsObject(options) && TagCanvas.tc[id]) {\n    if(isNaN(options.time))\n      options.time = 500;\n    var tt = TagCanvas.tc[id].FindTag(options);\n    if(tt) {\n      TagCanvas.tc[id].RotateTag(tt, options.lat, options.lng,\n        options.time, options.callback, options.active);\n      return true;\n    }\n  }\n  return false;\n};\nTagCanvas.Delete = function(id) {\n  var i, c;\n  if(handlers[id]) {\n    c = doc.getElementById(id);\n    if(c) {\n      for(i = 0; i < handlers[id].length; ++i)\n        RemoveHandler(handlers[id][i][0], handlers[id][i][1], c);\n    }\n  }\n  delete handlers[id];\n  delete TagCanvas.tc[id];\n};\nTagCanvas.NextFrameRAF = function() {\n  requestAnimationFrame(DrawCanvasRAF);\n};\nTagCanvas.NextFrameTimeout = function(iv) {\n  setTimeout(DrawCanvas, iv);\n};\nTagCanvas.tc = {};\nTagCanvas.options = {\nz1: 20000,\nz2: 20000,\nz0: 0.0002,\nfreezeActive: false,\nfreezeDecel: false,\nactiveCursor: 'pointer',\npulsateTo: 1,\npulsateTime: 3,\nreverse: false,\ndepth: 0.5,\nmaxSpeed: 0.05,\nminSpeed: 0,\ndecel: 0.95,\ninterval: 20,\nminBrightness: 0.1,\nmaxBrightness: 1,\noutlineColour: '#ffff99',\noutlineThickness: 2,\noutlineOffset: 5,\noutlineMethod: 'outline',\noutlineRadius: 0,\ntextColour: '#ff99ff',\ntextHeight: 15,\ntextFont: 'Helvetica, Arial, sans-serif',\nshadow: '#000',\nshadowBlur: 0,\nshadowOffset: [0,0],\ninitial: null,\nhideTags: true,\nzoom: 1,\nweight: false,\nweightMode: 'size',\nweightFrom: null,\nweightSize: 1,\nweightSizeMin: null,\nweightSizeMax: null,\nweightGradient: {0:'#f00', 0.33:'#ff0', 0.66:'#0f0', 1:'#00f'},\ntxtOpt: true,\ntxtScale: 2,\nfrontSelect: false,\nwheelZoom: true,\nzoomMin: 0.3,\nzoomMax: 3,\nzoomStep: 0.05,\nshape: 'sphere',\nlock: null,\ntooltip: null,\ntooltipDelay: 300,\ntooltipClass: 'tctooltip',\nradiusX: 1,\nradiusY: 1,\nradiusZ: 1,\nstretchX: 1,\nstretchY: 1,\noffsetX: 0,\noffsetY: 0,\nshuffleTags: false,\nnoSelect: false,\nnoMouse: false,\nimageScale: 1,\npaused: false,\ndragControl: false,\ndragThreshold: 4,\ncentreFunc: Nop,\nsplitWidth: 0,\nanimTiming: 'Smooth',\nclickToFront: false,\nfadeIn: 0,\npadding: 0,\nbgColour: null,\nbgRadius: 0,\nbgOutline: null,\nbgOutlineThickness: 0,\noutlineIncrease: 4,\ntextAlign: 'centre',\ntextVAlign: 'middle',\nimageMode: null,\nimagePosition: null,\nimagePadding: 2,\nimageAlign: 'centre',\nimageVAlign: 'middle',\nnoTagsMessage: true,\ncentreImage: null,\npinchZoom: false,\nrepeatTags: 0,\nminTags: 0,\nimageRadius: 0,\nscrollPause: false,\noutlineDash: 0,\noutlineDashSpace: 0,\noutlineDashSpeed: 1\n};\nfor(i in TagCanvas.options) TagCanvas[i] = TagCanvas.options[i];\nwindow.TagCanvas = TagCanvas;\n// set a flag for when the window has loaded\nAddHandler('load',function(){TagCanvas.loaded=1},window);\n})();\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","import { __awaiter, __generator } from 'tslib';\nimport { Component, Input, ElementRef, ViewChild, Output, EventEmitter, NgModule } from '@angular/core';\nimport { v4 } from 'uuid';\nimport 'jquery-tagcanvas/tagcanvas';\nimport { CommonModule } from '@angular/common';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nvar _c0 = [\"canvas\"];\nfunction TagCanvasComponent_a_3_Template(rf, ctx) { if (rf & 1) {\n    var _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"a\", 4);\n    ɵngcc0.ɵɵlistener(\"click\", function TagCanvasComponent_a_3_Template_a_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r4); var tag_r2 = ctx.$implicit; var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.tagClick.next(tag_r2); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    var tag_r2 = ctx.$implicit;\n    ɵngcc0.ɵɵattribute(\"data-weight\", tag_r2.weight);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(tag_r2.text);\n} }\nvar TagCanvasComponent = /** @class */ (function () {\r\n    function TagCanvasComponent(elementRef) {\r\n        this.elementRef = elementRef;\r\n        this._instanceId = v4();\r\n        this.canvasId = \"canvas-\" + this._instanceId;\r\n        this.tagListId = \"tags-\" + this._instanceId;\r\n        this.defaultOptions = {\r\n            textFont: null,\r\n            textColour: null,\r\n            weightFrom: 'data-weight' // TODO: Hide this field from external modules\r\n        };\r\n        this.tagClick = new EventEmitter();\r\n    }\r\n    Object.defineProperty(TagCanvasComponent.prototype, \"options\", {\r\n        get: /**\r\n         * @return {?}\r\n         */\r\n        function () {\r\n            return this._options;\r\n        },\r\n        // TODO: Add stretch (boolean) input\r\n        set: /**\r\n         * @param {?} value\r\n         * @return {?}\r\n         */\r\n        function (value) {\r\n            this._options = value;\r\n            this.start();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TagCanvasComponent.prototype.ngAfterViewInit = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var /** @type {?} */ canvasElement = /** @type {?} */ (this.canvas.nativeElement);\r\n        canvasElement.width = Math.round(canvasElement.clientWidth);\r\n        canvasElement.height = Math.round(canvasElement.clientHeight);\r\n        var /** @type {?} */ style = window.getComputedStyle(this.elementRef.nativeElement);\r\n        this.defaultOptions.textHeight = parseFloat(style['font-size']);\r\n        this.start();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TagCanvasComponent.prototype.start = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var mergedOptions;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        mergedOptions = Object.assign({}, this.defaultOptions, this._options);\r\n                        return [4 /*yield*/, blinkEyes()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        TagCanvas.Start(this.canvasId, this.tagListId, mergedOptions);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TagCanvasComponent.prototype.update = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, blinkEyes()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        TagCanvas.Update(this.canvasId);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TagCanvasComponent.prototype.ngDoCheck = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        var /** @type {?} */ tagListState = JSON.stringify(this.tags.map(function (_a) {\r\n            var text = _a.text, weight = _a.weight;\r\n            return [text, weight];\r\n        })); // TODO: Improve performance, use KeyValueDiffer/IterableDiffer\r\n        if (this._previousTagListState !== tagListState) {\r\n            this._previousTagListState = tagListState;\r\n            this.update();\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TagCanvasComponent.prototype.ngOnDestroy = /**\r\n     * @return {?}\r\n     */\r\n    function () {\r\n        TagCanvas.Delete(this.canvasId);\r\n    };\r\n    /** @nocollapse */\r\n    TagCanvasComponent.ctorParameters = function () { return [\r\n        { type: ElementRef }\r\n    ]; };\r\n    TagCanvasComponent.propDecorators = {\r\n        tags: [{ type: Input }],\r\n        options: [{ type: Input }],\r\n        tagClick: [{ type: Output }],\r\n        canvas: [{ type: ViewChild, args: ['canvas',] }]\r\n    };\nTagCanvasComponent.ɵfac = function TagCanvasComponent_Factory(t) { return new (t || TagCanvasComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nTagCanvasComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: TagCanvasComponent, selectors: [[\"tag-canvas\"]], viewQuery: function TagCanvasComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n    } }, inputs: { options: \"options\", tags: \"tags\" }, outputs: { tagClick: \"tagClick\" }, decls: 4, vars: 3, consts: [[3, \"id\"], [\"canvas\", \"\"], [1, \"tag-container\", 3, \"id\"], [\"href\", \"javascript:void(0)\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"href\", \"javascript:void(0)\", 3, \"click\"]], template: function TagCanvasComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"canvas\", 0, 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵtemplate(3, TagCanvasComponent_a_3_Template, 2, 2, \"a\", 3);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵpropertyInterpolate(\"id\", ctx.canvasId);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵpropertyInterpolate(\"id\", ctx.tagListId);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.tags);\n    } }, directives: [ɵngcc1.NgForOf], styles: [\"[_nghost-%COMP%]{display:block}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.tag-container[_ngcontent-%COMP%]{display:none}.tag-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-family:inherit!important;color:inherit!important;font-size:inherit!important;font-weight:inherit!important}\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TagCanvasComponent, [{\n        type: Component,\n        args: [{\n                selector: 'tag-canvas',\n                template: \"<canvas #canvas id=\\\"{{ canvasId }}\\\"></canvas>\\n<div id=\\\"{{ tagListId }}\\\" class=\\\"tag-container\\\">\\n\\t<a href=\\\"javascript:void(0)\\\" *ngFor=\\\"let tag of tags\\\"\\n\\t\\t[attr.data-weight]=\\\"tag.weight\\\" (click)=\\\"tagClick.next(tag)\\\">{{ tag.text }}</a>\\n</div>\\n\",\n                styles: [\":host{display:block}canvas{display:block;width:100%;height:100%}.tag-container{display:none}.tag-container>a{font-family:inherit!important;color:inherit!important;font-size:inherit!important;font-weight:inherit!important}\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { tagClick: [{\n            type: Output\n        }], options: [{\n            type: Input\n        }], tags: [{\n            type: Input\n        }], canvas: [{\n            type: ViewChild,\n            args: ['canvas']\n        }] }); })();\r\n    return TagCanvasComponent;\r\n}());\r\n/**\r\n * \\@description Waits for change detection cycle\r\n * @return {?} Promise<void>\r\n */\r\nfunction blinkEyes() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(function () { return resolve(); }); })];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nvar TagCanvasModule = /** @class */ (function () {\r\n    function TagCanvasModule() {\r\n    }\nTagCanvasModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: TagCanvasModule });\nTagCanvasModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function TagCanvasModule_Factory(t) { return new (t || TagCanvasModule)(); }, imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TagCanvasModule, { declarations: function () { return [TagCanvasComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [TagCanvasComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(TagCanvasModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    TagCanvasComponent\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    TagCanvasComponent\n                ]\n            }]\n    }], function () { return []; }, null); })();\r\n    return TagCanvasModule;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nvar Tag = /** @class */ (function () {\r\n    function Tag(init) {\r\n        Object.assign(this, init);\r\n    }\r\n    return Tag;\r\n}());\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\n\nexport { TagCanvasModule, TagCanvasComponent, Tag };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3RyYXZpcy9idWlsZC9oYWphbmlhaW4vaGFqYW5pYWluL25vZGVfbW9kdWxlcy9uZy10YWdjYW52YXMvZmVzbTUvbmctdGFnY2FudmFzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztNQStHTSxBQU9BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0tBMEJEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dEQWFDIiwiZmlsZSI6Im5nLXRhZ2NhbnZhcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBFbGVtZW50UmVmLCBWaWV3Q2hpbGQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCAnanF1ZXJ5LXRhZ2NhbnZhcy90YWdjYW52YXMnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxyXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXHJcbiAqL1xuXG4vKipcclxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXHJcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcclxuICovXG5cbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcclxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xyXG4gKi9cclxudmFyIFRhZ0NhbnZhc0NvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFRhZ0NhbnZhc0NvbXBvbmVudChlbGVtZW50UmVmKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50UmVmID0gZWxlbWVudFJlZjtcclxuICAgICAgICB0aGlzLl9pbnN0YW5jZUlkID0gdjQoKTtcclxuICAgICAgICB0aGlzLmNhbnZhc0lkID0gXCJjYW52YXMtXCIgKyB0aGlzLl9pbnN0YW5jZUlkO1xyXG4gICAgICAgIHRoaXMudGFnTGlzdElkID0gXCJ0YWdzLVwiICsgdGhpcy5faW5zdGFuY2VJZDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICB0ZXh0Rm9udDogbnVsbCxcclxuICAgICAgICAgICAgdGV4dENvbG91cjogbnVsbCxcclxuICAgICAgICAgICAgd2VpZ2h0RnJvbTogJ2RhdGEtd2VpZ2h0JyAvLyBUT0RPOiBIaWRlIHRoaXMgZmllbGQgZnJvbSBleHRlcm5hbCBtb2R1bGVzXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRhZ0NsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhZ0NhbnZhc0NvbXBvbmVudC5wcm90b3R5cGUsIFwib3B0aW9uc1wiLCB7XHJcbiAgICAgICAgZ2V0OiAvKipcclxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBUT0RPOiBBZGQgc3RyZXRjaCAoYm9vbGVhbikgaW5wdXRcclxuICAgICAgICBzZXQ6IC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7P30gdmFsdWVcclxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiB7P31cclxuICAgICAqL1xyXG4gICAgVGFnQ2FudmFzQ29tcG9uZW50LnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSAvKipcclxuICAgICAqIEByZXR1cm4gez99XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjYW52YXNFbGVtZW50ID0gLyoqIEB0eXBlIHs/fSAqLyAodGhpcy5jYW52YXMubmF0aXZlRWxlbWVudCk7XHJcbiAgICAgICAgY2FudmFzRWxlbWVudC53aWR0aCA9IE1hdGgucm91bmQoY2FudmFzRWxlbWVudC5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgY2FudmFzRWxlbWVudC5oZWlnaHQgPSBNYXRoLnJvdW5kKGNhbnZhc0VsZW1lbnQuY2xpZW50SGVpZ2h0KTtcclxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcclxuICAgICAgICB0aGlzLmRlZmF1bHRPcHRpb25zLnRleHRIZWlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlWydmb250LXNpemUnXSk7XHJcbiAgICAgICAgdGhpcy5zdGFydCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiB7P31cclxuICAgICAqL1xyXG4gICAgVGFnQ2FudmFzQ29tcG9uZW50LnByb3RvdHlwZS5zdGFydCA9IC8qKlxyXG4gICAgICogQHJldHVybiB7P31cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG1lcmdlZE9wdGlvbnM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRPcHRpb25zLCB0aGlzLl9vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgYmxpbmtFeWVzKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWdDYW52YXMuU3RhcnQodGhpcy5jYW52YXNJZCwgdGhpcy50YWdMaXN0SWQsIG1lcmdlZE9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybiB7P31cclxuICAgICAqL1xyXG4gICAgVGFnQ2FudmFzQ29tcG9uZW50LnByb3RvdHlwZS51cGRhdGUgPSAvKipcclxuICAgICAqIEByZXR1cm4gez99XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGJsaW5rRXllcygpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFnQ2FudmFzLlVwZGF0ZSh0aGlzLmNhbnZhc0lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4gez99XHJcbiAgICAgKi9cclxuICAgIFRhZ0NhbnZhc0NvbXBvbmVudC5wcm90b3R5cGUubmdEb0NoZWNrID0gLyoqXHJcbiAgICAgKiBAcmV0dXJuIHs/fVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdGFnTGlzdFN0YXRlID0gSlNPTi5zdHJpbmdpZnkodGhpcy50YWdzLm1hcChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSBfYS50ZXh0LCB3ZWlnaHQgPSBfYS53ZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBbdGV4dCwgd2VpZ2h0XTtcclxuICAgICAgICB9KSk7IC8vIFRPRE86IEltcHJvdmUgcGVyZm9ybWFuY2UsIHVzZSBLZXlWYWx1ZURpZmZlci9JdGVyYWJsZURpZmZlclxyXG4gICAgICAgIGlmICh0aGlzLl9wcmV2aW91c1RhZ0xpc3RTdGF0ZSAhPT0gdGFnTGlzdFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzVGFnTGlzdFN0YXRlID0gdGFnTGlzdFN0YXRlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm4gez99XHJcbiAgICAgKi9cclxuICAgIFRhZ0NhbnZhc0NvbXBvbmVudC5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSAvKipcclxuICAgICAqIEByZXR1cm4gez99XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBUYWdDYW52YXMuRGVsZXRlKHRoaXMuY2FudmFzSWQpO1xyXG4gICAgfTtcclxuICAgIFRhZ0NhbnZhc0NvbXBvbmVudC5kZWNvcmF0b3JzID0gW1xyXG4gICAgICAgIHsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAndGFnLWNhbnZhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGNhbnZhcyAjY2FudmFzIGlkPVxcXCJ7eyBjYW52YXNJZCB9fVxcXCI+PC9jYW52YXM+XFxuPGRpdiBpZD1cXFwie3sgdGFnTGlzdElkIH19XFxcIiBjbGFzcz1cXFwidGFnLWNvbnRhaW5lclxcXCI+XFxuXFx0PGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiAqbmdGb3I9XFxcImxldCB0YWcgb2YgdGFnc1xcXCJcXG5cXHRcXHRbYXR0ci5kYXRhLXdlaWdodF09XFxcInRhZy53ZWlnaHRcXFwiIChjbGljayk9XFxcInRhZ0NsaWNrLm5leHQodGFnKVxcXCI+e3sgdGFnLnRleHQgfX08L2E+XFxuPC9kaXY+XFxuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBbXCI6aG9zdHtkaXNwbGF5OmJsb2NrfWNhbnZhc3tkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LnRhZy1jb250YWluZXJ7ZGlzcGxheTpub25lfS50YWctY29udGFpbmVyPmF7Zm9udC1mYW1pbHk6aW5oZXJpdCFpbXBvcnRhbnQ7Y29sb3I6aW5oZXJpdCFpbXBvcnRhbnQ7Zm9udC1zaXplOmluaGVyaXQhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OmluaGVyaXQhaW1wb3J0YW50fVwiXVxyXG4gICAgICAgICAgICAgICAgfSxdIH0sXHJcbiAgICBdO1xyXG4gICAgLyoqIEBub2NvbGxhcHNlICovXHJcbiAgICBUYWdDYW52YXNDb21wb25lbnQuY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXHJcbiAgICAgICAgeyB0eXBlOiBFbGVtZW50UmVmIH1cclxuICAgIF07IH07XHJcbiAgICBUYWdDYW52YXNDb21wb25lbnQucHJvcERlY29yYXRvcnMgPSB7XHJcbiAgICAgICAgdGFnczogW3sgdHlwZTogSW5wdXQgfV0sXHJcbiAgICAgICAgb3B0aW9uczogW3sgdHlwZTogSW5wdXQgfV0sXHJcbiAgICAgICAgdGFnQ2xpY2s6IFt7IHR5cGU6IE91dHB1dCB9XSxcclxuICAgICAgICBjYW52YXM6IFt7IHR5cGU6IFZpZXdDaGlsZCwgYXJnczogWydjYW52YXMnLF0gfV1cclxuICAgIH07XHJcbiAgICByZXR1cm4gVGFnQ2FudmFzQ29tcG9uZW50O1xyXG59KCkpO1xyXG4vKipcclxuICogXFxAZGVzY3JpcHRpb24gV2FpdHMgZm9yIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGVcclxuICogQHJldHVybiB7P30gUHJvbWlzZTx2b2lkPlxyXG4gKi9cclxuZnVuY3Rpb24gYmxpbmtFeWVzKCkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKCk7IH0pOyB9KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxyXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXHJcbiAqL1xyXG52YXIgVGFnQ2FudmFzTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGFnQ2FudmFzTW9kdWxlKCkge1xyXG4gICAgfVxyXG4gICAgVGFnQ2FudmFzTW9kdWxlLmRlY29yYXRvcnMgPSBbXHJcbiAgICAgICAgeyB0eXBlOiBOZ01vZHVsZSwgYXJnczogW3tcclxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGFnQ2FudmFzQ29tcG9uZW50XHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbW1vbk1vZHVsZVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBUYWdDYW52YXNDb21wb25lbnRcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9LF0gfSxcclxuICAgIF07XHJcbiAgICByZXR1cm4gVGFnQ2FudmFzTW9kdWxlO1xyXG59KCkpO1xuXG4vKipcclxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXHJcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcclxuICovXHJcbnZhciBUYWcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUYWcoaW5pdCkge1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgaW5pdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVGFnO1xyXG59KCkpO1xuXG4vKipcclxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXHJcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcclxuICovXG5cbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcclxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xyXG4gKi9cblxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxyXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXHJcbiAqL1xuXG5leHBvcnQgeyBUYWdDYW52YXNNb2R1bGUsIFRhZ0NhbnZhc0NvbXBvbmVudCwgVGFnIH07XG4iXX0=","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-quote',\n  templateUrl: './quote.component.html',\n  styleUrls: ['./quote.component.css']\n})\nexport class QuoteComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nvar QuoteComponent = /** @class */ (function () {\n    function QuoteComponent() {\n    }\n    QuoteComponent.prototype.ngOnInit = function () {\n    };\n    QuoteComponent.ɵfac = function QuoteComponent_Factory(t) { return new (t || QuoteComponent)(); };\n    QuoteComponent.ɵcmp = i0.ɵɵdefineComponent({ type: QuoteComponent, selectors: [[\"app-quote\"]], decls: 5, vars: 0, consts: [[1, \"citation-text\"]], template: function QuoteComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵelementStart(0, \"blockquote\", 0);\n            i0.ɵɵtext(1, \" \\\"Plus tu y croiras, plus tu pourras, plus tu r\\u00E9ussiras.\\\" \");\n            i0.ɵɵelement(2, \"br\");\n            i0.ɵɵelementStart(3, \"strong\");\n            i0.ɵɵtext(4, \"- Charles Aznavour\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n        } }, styles: [\"blockquote[_ngcontent-%COMP%]{border-radius:3px;position:relative;font-style:italic;font-size:1.6rem;text-align:center;padding:1rem 1.2rem;max-width:80rem;margin:1rem auto 2rem;color:#fff;background:#1b2330}\"] });\n    return QuoteComponent;\n}());\nexport { QuoteComponent };\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(QuoteComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-quote',\n                templateUrl: './quote.component.html',\n                styleUrls: ['./quote.component.css']\n            }]\n    }], function () { return []; }, null); })();\n","<blockquote class=\"citation-text\">\n  \"Plus tu y croiras, plus tu pourras, plus tu réussiras.\"\n  <br />\n  <strong>- Charles Aznavour</strong>\n</blockquote>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomeComponent } from './home.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Tag } from 'ng-tagcanvas';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  tags: Tag[] = [\n    { weight: 32, text: 'Angular' },\n    { weight: 24, text: 'Node.js' },\n    { weight: 18, text: 'MongoDB' },\n    { weight: 20, text: 'Firebase' },\n    { weight: 16, text: 'Typescript' },\n    { weight: 16, text: 'Javascript' }\n  ];\n\n  options: TagCanvasOptions = {\n    dragControl: true,\n    clickToFront: 500,\n    initial: [0.1, 0],\n    weight: true\n  };\n  constructor() {}\n\n  ngOnInit() {}\n\n  tagClicked(tag) {\n    console.log(tag);\n  }\n}\n","import { Component } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ng-tagcanvas\";\nimport * as i2 from \"../../components/quote/quote.component\";\nvar HomeComponent = /** @class */ (function () {\n    function HomeComponent() {\n        this.tags = [\n            { weight: 32, text: 'Angular' },\n            { weight: 24, text: 'Node.js' },\n            { weight: 18, text: 'MongoDB' },\n            { weight: 20, text: 'Firebase' },\n            { weight: 16, text: 'Typescript' },\n            { weight: 16, text: 'Javascript' }\n        ];\n        this.options = {\n            dragControl: true,\n            clickToFront: 500,\n            initial: [0.1, 0],\n            weight: true\n        };\n    }\n    HomeComponent.prototype.ngOnInit = function () { };\n    HomeComponent.prototype.tagClicked = function (tag) {\n        console.log(tag);\n    };\n    HomeComponent.ɵfac = function HomeComponent_Factory(t) { return new (t || HomeComponent)(); };\n    HomeComponent.ɵcmp = i0.ɵɵdefineComponent({ type: HomeComponent, selectors: [[\"app-home\"]], decls: 20, vars: 2, consts: [[1, \"content\"], [\"id\", \"home\", \"data-aos\", \"zoom-in\", 1, \"container\", \"centered\"], [1, \"about\"], [1, \"avatar\", 2, \"text-align\", \"center\"], [\"width\", \"300\", \"alt\", \"Hajaniain image\", \"src\", \"https://avatars0.githubusercontent.com/u/6097819?s=460&v=4\"], [1, \"my-name\"], [1, \"social-links\"], [\"href\", \"https://twitter.com/_hajaniain\", \"target\", \"_blank\", 1, \"navigation-link\"], [1, \"fab\", \"fa-3x\", \"fa-twitter\"], [\"href\", \"https://www.linkedin.com/in/hajaniaina-marius-rafaliarintsoa-a5b202b9\", \"target\", \"_blank\", 1, \"navigation-link\"], [1, \"fab\", \"fa-3x\", \"fa-linkedin\"], [\"href\", \"https://github.com/hajaniain\", \"target\", \"_blank\", 1, \"navigation-link\"], [1, \"fab\", \"fa-3x\", \"fa-github\"], [3, \"tags\", \"options\", \"tagClick\"], [1, \"citation\", \"container\", \"page\"]], template: function HomeComponent_Template(rf, ctx) { if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵelementStart(1, \"section\", 1);\n            i0.ɵɵelementStart(2, \"div\", 2);\n            i0.ɵɵelementStart(3, \"div\", 3);\n            i0.ɵɵelement(4, \"img\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"h1\", 5);\n            i0.ɵɵtext(6, \" Rafaliarintsoa Hajaniaina \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"ul\", 6);\n            i0.ɵɵelementStart(8, \"li\");\n            i0.ɵɵelementStart(9, \"a\", 7);\n            i0.ɵɵelement(10, \"i\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"li\");\n            i0.ɵɵelementStart(12, \"a\", 9);\n            i0.ɵɵelement(13, \"i\", 10);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"li\");\n            i0.ɵɵelementStart(15, \"a\", 11);\n            i0.ɵɵelement(16, \"i\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"tag-canvas\", 13);\n            i0.ɵɵlistener(\"tagClick\", function HomeComponent_Template_tag_canvas_tagClick_17_listener($event) { return ctx.tagClicked($event); });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(18, \"section\", 14);\n            i0.ɵɵelement(19, \"app-quote\");\n            i0.ɵɵelementEnd();\n        } if (rf & 2) {\n            i0.ɵɵadvance(17);\n            i0.ɵɵproperty(\"tags\", ctx.tags)(\"options\", ctx.options);\n        } }, directives: [i1.TagCanvasComponent, i2.QuoteComponent], styles: [\"p[_ngcontent-%COMP%]{margin-bottom:2.3rem;letter-spacing:.05em}.navigation[_ngcontent-%COMP%]{margin-top:2rem}.social-links[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{color:#0080ab}section.container.page[_ngcontent-%COMP%], section.container.post[_ngcontent-%COMP%]{max-width:90rem}.content[_ngcontent-%COMP%]{height:100vh}.social-title[_ngcontent-%COMP%]{color:#fff;margin-left:5px}.my-name[_ngcontent-%COMP%]{font-size:1.8em;font-weight:100}@media only screen and (max-device-width:440px){.social-title[_ngcontent-%COMP%]{display:none}}\"] });\n    return HomeComponent;\n}());\nexport { HomeComponent };\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(HomeComponent, [{\n        type: Component,\n        args: [{\n                selector: 'app-home',\n                templateUrl: './home.component.html',\n                styleUrls: ['./home.component.css']\n            }]\n    }], function () { return []; }, null); })();\n","<div class=\"content\">\n  <section class=\"container centered\" id=\"home\" data-aos=\"zoom-in\">\n    <div class=\"about\">\n      <div class=\"avatar\" style=\"text-align:center\">\n        <img\n          width=\"300\"\n          alt=\"Hajaniain image\"\n          src=\"https://avatars0.githubusercontent.com/u/6097819?s=460&v=4\"\n        />\n      </div>\n      <h1 class=\"my-name\">\n        Rafaliarintsoa Hajaniaina\n      </h1>\n      <!-- <h2 class=\"job\">\n        Développeur full stack\n      </h2> -->\n\n      <ul class=\"social-links\">\n        <li>\n          <a\n            class=\"navigation-link\"\n            href=\"https://twitter.com/_hajaniain\"\n            target=\"_blank\"\n          >\n            <i class=\"fab fa-3x fa-twitter\"></i>\n            <!-- <span class=\"social-title\">Twitter</span> -->\n          </a>\n        </li>\n        <li>\n          <a\n            class=\"navigation-link\"\n            href=\"https://www.linkedin.com/in/hajaniaina-marius-rafaliarintsoa-a5b202b9\"\n            target=\"_blank\"\n          >\n            <i class=\"fab fa-3x fa-linkedin\"></i>\n            <!-- <span class=\"social-title\">Linkedin</span> -->\n          </a>\n        </li>\n        <li>\n          <a\n            class=\"navigation-link\"\n            href=\"https://github.com/hajaniain\"\n            target=\"_blank\"\n          >\n            <i class=\"fab fa-3x fa-github\"></i>\n            <!-- <span class=\"social-title\">Github</span> -->\n          </a>\n        </li>\n      </ul>\n      <tag-canvas [tags]=\"tags\" [options]=\"options\" (tagClick)=\"tagClicked($event)\"></tag-canvas>\n    </div>\n  </section>\n</div>\n\n<!-- <app-about></app-about> -->\n\n<!-- <app-realisations></app-realisations> -->\n\n<!-- <app-contact-form></app-contact-form> -->\n\n<section class=\"citation container page\">\n  <app-quote></app-quote>\n</section>\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { HomeComponent } from './home.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nvar routes = [\n    {\n        path: '',\n        component: HomeComponent\n    }\n];\nvar HomeRoutingModule = /** @class */ (function () {\n    function HomeRoutingModule() {\n    }\n    HomeRoutingModule.ɵmod = i0.ɵɵdefineNgModule({ type: HomeRoutingModule });\n    HomeRoutingModule.ɵinj = i0.ɵɵdefineInjector({ factory: function HomeRoutingModule_Factory(t) { return new (t || HomeRoutingModule)(); }, imports: [[RouterModule.forChild(routes)],\n            RouterModule] });\n    return HomeRoutingModule;\n}());\nexport { HomeRoutingModule };\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(HomeRoutingModule, { imports: [i1.RouterModule], exports: [RouterModule] }); })();\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(HomeRoutingModule, [{\n        type: NgModule,\n        args: [{\n                imports: [RouterModule.forChild(routes)],\n                exports: [RouterModule]\n            }]\n    }], null, null); })();\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomeRoutingModule } from './home-routing.module';\nimport { HomeComponent } from './home.component';\nimport { QuoteComponent } from '../../components/quote/quote.component';\nimport { SharedModule } from '../../shared/shared.module';\nimport { TagCanvasModule } from 'ng-tagcanvas';\n\n@NgModule({\n  declarations: [HomeComponent, QuoteComponent],\n  imports: [CommonModule, SharedModule, HomeRoutingModule, TagCanvasModule]\n})\nexport class HomeModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HomeRoutingModule } from './home-routing.module';\nimport { HomeComponent } from './home.component';\nimport { QuoteComponent } from '../../components/quote/quote.component';\nimport { SharedModule } from '../../shared/shared.module';\nimport { TagCanvasModule } from 'ng-tagcanvas';\nimport * as i0 from \"@angular/core\";\nvar HomeModule = /** @class */ (function () {\n    function HomeModule() {\n    }\n    HomeModule.ɵmod = i0.ɵɵdefineNgModule({ type: HomeModule });\n    HomeModule.ɵinj = i0.ɵɵdefineInjector({ factory: function HomeModule_Factory(t) { return new (t || HomeModule)(); }, imports: [[CommonModule, SharedModule, HomeRoutingModule, TagCanvasModule]] });\n    return HomeModule;\n}());\nexport { HomeModule };\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(HomeModule, { declarations: [HomeComponent, QuoteComponent], imports: [CommonModule, SharedModule, HomeRoutingModule, TagCanvasModule] }); })();\n/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(HomeModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [HomeComponent, QuoteComponent],\n                imports: [CommonModule, SharedModule, HomeRoutingModule, TagCanvasModule]\n            }]\n    }], null, null); })();\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n"],"sourceRoot":"webpack:///"}