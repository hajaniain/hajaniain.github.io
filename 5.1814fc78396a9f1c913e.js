(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3wXT":function(t,i){!function(){"use strict";var t,i,e,n,s,a,o,h,r,l,c=Math.abs,u=Math.sin,g=Math.cos,f=Math.max,d=Math.min,m=Math.ceil,p=Math.sqrt,w=Math.pow,x={},v={},b={0:"0,",1:"17,",2:"34,",3:"51,",4:"68,",5:"85,",6:"102,",7:"119,",8:"136,",9:"153,",a:"170,",A:"170,",b:"187,",B:"187,",c:"204,",C:"204,",d:"221,",D:"221,",e:"238,",E:"238,",f:"255,",F:"255,"},y=document,T={};for(t=0;t<256;++t)i=t.toString(16),t<16&&(i="0"+i),v[i]=v[i.toUpperCase()]=t.toString()+",";function C(t){return void 0!==t}function S(t){return"object"==typeof t&&null!=t}function z(t,i,e){return isNaN(t)?e:d(e,f(i,t))}function D(){return!1}function O(){return(new Date).valueOf()}function M(t){for(var i,e,n=t.length-1;n;)e=~~(Math.random()*n),i=t[n],t[n]=t[e],t[e]=i,--n}function I(t,i,e){this.x=t,this.y=i,this.z=e}function A(t){this[1]={1:t[0],2:t[1],3:t[2]},this[2]={1:t[3],2:t[4],3:t[5]},this[3]={1:t[6],2:t[7],3:t[8]}}function k(t,i,e,n,s){var a,o,h,r,l,c=[],f=2/t;for(l=Math.PI*(3-p(5)+(parseFloat(s)?parseFloat(s):0)),a=0;a<t;++a)h=p(1-(o=a*f-1+f/2)*o),c.push([g(r=a*l)*h*i,o*e,u(r)*h*n]);return c}function F(t,i,e,n,s,a){var o,h,r,l,c,f,d=[],m=2/t;for(h=Math.PI*(3-p(5)+(parseFloat(a)?parseFloat(a):0)),r=0;r<t;++r)l=r*m-1+m/2,c=g(o=r*h),f=u(o),d.push(i?[l*e,c*n,f*s]:[c*e,l*n,f*s]);return d}function P(t,i,e,n,s,a){var o,h,r,l,c=[],f=2*Math.PI/i;for(h=0;h<i;++h)r=g(o=h*f),l=u(o),c.push(t?[a*e,r*n,l*s]:[r*e,a*n,l*s]);return c}function _(t,i,e,n,s){return F(t,0,i,e,n,s)}function E(t,i,e,n,s){return F(t,1,i,e,n,s)}function R(t,i,e,n,s){return P(0,t,i,e,n,s=isNaN(s)?0:1*s)}function N(t,i,e,n,s){return P(1,t,i,e,n,s=isNaN(s)?0:1*s)}function B(t,i){if(window.G_vmlCanvasManager)return null;var e=y.createElement("canvas");return e.width=t,e.height=i,e}function L(t,i,e,n){var s,a=t.createLinearGradient(0,0,i,0);for(s in n)a.addColorStop(1-s,n[s]);t.fillStyle=a,t.fillRect(0,e,i,1)}function H(t,i,e){var n,s,a,o,h=1024,r=1,l=t.weightGradient;if(t.gCanvas)s=t.gCanvas.getContext("2d"),r=t.gCanvas.height;else{if(S(l[0])?r=l.length:l=[l],t.gCanvas=n=B(h,r),!n)return null;for(s=n.getContext("2d"),a=0;a<r;++a)L(s,h,a,l[a])}return e=f(d(e||0,r-1),0),"rgba("+(o=s.getImageData(~~((h-1)*i),e,1,1).data)[0]+","+o[1]+","+o[2]+","+o[3]/255+")"}function j(t,i,e,n,s,a,o,h,r,l,u,g){var f,d,m=s+(h||0)+(r.length&&r[0]<0?c(r[0]):0),p=a+(h||0)+(r.length&&r[1]<0?c(r[1]):0);for(t.font=i,t.textBaseline="top",t.fillStyle=e,o&&(t.shadowColor=o),h&&(t.shadowBlur=h),r.length&&(t.shadowOffsetX=r[0],t.shadowOffsetY=r[1]),f=0;f<n.length;++f)d=0,u&&("right"==g?d=l-u[f]:"centre"==g&&(d=(l-u[f])/2)),t.fillText(n[f],m+d,p),p+=parseInt(i)}function W(t,i,e,n,s,a,o){a?(t.beginPath(),t.moveTo(i,e+s-a),t.arcTo(i,e,i+a,e,a),t.arcTo(i+n,e,i+n,e+a,a),t.arcTo(i+n,e+s,i+n-a,e+s,a),t.arcTo(i,e+s,i,e+s-a,a),t.closePath(),t[o?"stroke":"fill"]()):t[o?"strokeRect":"fillRect"](i,e,n,s)}function V(t,i,e,n,s,a,o,h,r){this.strings=t,this.font=i,this.width=e,this.height=n,this.maxWidth=s,this.stringWidths=a,this.align=o,this.valign=h,this.scale=r}function q(t,i,e){var n=B(i,e);return n?(n.getContext("2d").drawImage(t,(i-t.width)/2,(e-t.height)/2),n):null}function U(t,i,e){var n=B(i,e);return n?(n.getContext("2d").drawImage(t,0,0,i,e),n):null}function X(t,i,e,n,s,a,o,h,r,l){var c,u,g,f,m,p,w,x,v=i+(2*h+a)*n,b=e+(2*h+a)*n,y=B(v,b);return y?(r*=n,f=v-(a*=n),m=b-a,h=h*n+(u=g=a/2),c=y.getContext("2d"),x=d(r,f/2,m/2),s&&(c.fillStyle=s,W(c,u,g,f,m,x)),a&&(c.strokeStyle=o,c.lineWidth=a,W(c,u,g,f,m,x,!0)),l?((w=(p=B(v,b)).getContext("2d")).drawImage(t,h,h,i,e),w.globalCompositeOperation="source-in",w.fillStyle=o,w.fillRect(0,0,v,b),w.globalCompositeOperation="destination-over",w.drawImage(y,0,0),w.globalCompositeOperation="source-over",c.drawImage(p,0,0)):c.drawImage(t,h,h,t.width,t.height),{image:y,width:v/n,height:b/n}):null}function Q(t,i,e){var n,s,a,o,h,r,l,c=parseInt(t.toString().length*e),u=parseInt(2*e*t.length),g=B(c,u);if(!g)return null;for((n=g.getContext("2d")).fillStyle="#000",n.fillRect(0,0,c,u),j(n,e+"px "+i,"#fff",t,0,0,0,0,[],"centre"),l={min:{x:a=(s=n.getImageData(0,0,c,u)).width,y:o=s.height},max:{x:-1,y:-1}},r=0;r<o;++r)for(h=0;h<a;++h)s.data[4*(r*a+h)+1]>0&&(h<l.min.x&&(l.min.x=h),h>l.max.x&&(l.max.x=h),r<l.min.y&&(l.min.y=r),r>l.max.y&&(l.max.y=r));return a!=c&&(l.min.x*=c/a,l.max.x*=c/a),o!=u&&(l.min.y*=c/o,l.max.y*=c/o),g=null,l}function Y(t){return"'"+t.replace(/(\'|\")/g,"").replace(/\s*,\s*/g,"', '")+"'"}function G(t,i,e){(e=e||y).addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}function Z(t,i,e,n){var s,a,o,h,r,l,u=n.imageScale;return i.complete?t.complete?(i.width=i.width,i.height=i.height,u&&(t.width=i.width*u,t.height=i.height*u),e.iw=t.width,e.ih=t.height,n.txtOpt&&(a=t,l=e.ih*(s=n.zoomMax*n.txtScale),(r=e.iw*s)<i.naturalWidth||l<i.naturalHeight?(a=U(t,r,l))&&(e.fimage=a):(r=e.iw,l=e.ih,s=1),parseFloat(n.imageRadius)&&(e.image=e.fimage=t=function(t,i,e,n,s){var a,o,h=parseFloat(i),r=f(e,n);return(a=B(e,n))?(i.indexOf("%")>0?h=r*h/100:h*=s,(o=a.getContext("2d")).globalCompositeOperation="source-over",o.fillStyle="#fff",h>=r/2?(h=d(e,n)/2,o.beginPath(),o.moveTo(e/2,n/2),o.arc(e/2,n/2,h,0,2*Math.PI,!1),o.fill(),o.closePath()):(W(o,0,0,e,n,h=d(e/2,n/2,h),!0),o.fill()),o.globalCompositeOperation="source-in",o.drawImage(t,0,0,e,n),a):null}(e.image,n.imageRadius,r,l,s)),e.HasText()||(n.shadow&&(a=function(t,i,e,n,s,a,o){var h,r,l=c(o[0]),u=c(o[1]),g=i+(l>a?l+a:2*a)*n,f=e+(u>a?u+a:2*a)*n,d=n*((a||0)+(o[0]<0?l:0)),m=n*((a||0)+(o[1]<0?u:0));return(h=B(g,f))?(r=h.getContext("2d"),s&&(r.shadowColor=s),a&&(r.shadowBlur=a*n),o&&(r.shadowOffsetX=o[0]*n,r.shadowOffsetY=o[1]*n),r.drawImage(t,d,m,i,e),{image:h,width:g/n,height:f/n}):null}(e.image,r,l,s,n.shadow,n.shadowBlur,n.shadowOffset))&&(e.fimage=a.image,e.w=a.width,e.h=a.height),(n.bgColour||n.bgOutlineThickness)&&(o="tag"==n.bgColour?J(e.a,"background-color"):n.bgColour,h="tag"==n.bgOutline?J(e.a,"color"):n.bgOutline||n.textColour,r=e.fimage.width,l=e.fimage.height,"colour"==n.outlineMethod&&(a=X(e.fimage,r,l,s,o,n.bgOutlineThickness,e.outline.colour,n.padding,n.bgRadius,1))&&(e.oimage=a.image),(a=X(e.fimage,r,l,s,o,n.bgOutlineThickness,h,n.padding,n.bgRadius))&&(e.fimage=a.image,e.w=a.width,e.h=a.height)),"size"==n.outlineMethod&&(n.outlineIncrease>0?(e.iw+=2*n.outlineIncrease,e.ih+=2*n.outlineIncrease,a=U(e.fimage,r=s*e.iw,l=s*e.ih),e.oimage=a,e.fimage=q(e.fimage,e.oimage.width,e.oimage.height)):(a=U(e.fimage,r=s*(e.iw+2*n.outlineIncrease),l=s*(e.ih+2*n.outlineIncrease)),e.oimage=q(a,e.fimage.width,e.fimage.height))))),void e.Init()):G("load",(function(){Z(t,i,e,n)}),t):G("load",(function(){Z(t,i,e,n)}),i)}function J(t,i){var e=y.defaultView,n=i.replace(/\-([a-z])/g,(function(t){return t.charAt(1).toUpperCase()}));return e&&e.getComputedStyle&&e.getComputedStyle(t,null).getPropertyValue(i)||t.currentStyle&&t.currentStyle[n]}function K(t,i,e){var n,s=1;return i?s=1*(t.getAttribute(i)||e):(n=J(t,"font-size"))&&(s=n.indexOf("px")>-1&&1*n.replace("px","")||n.indexOf("pt")>-1&&1.25*n.replace("pt","")||3.3*n),s}function $(t){return t.target&&C(t.target.id)?t.target.id:t.srcElement.parentNode.id}function tt(t,i){var e,n,s=parseInt(J(i,"width"))/i.width,a=parseInt(J(i,"height"))/i.height;return C(t.offsetX)?e={x:t.offsetX,y:t.offsetY}:(n=gt(i.id),C(t.changedTouches)&&(t=t.changedTouches[0]),t.pageX&&(e={x:t.pageX-n.x,y:t.pageY-n.y})),e&&s&&a&&(e.x/=s,e.y/=a),e}function it(t){var i=pt.tc[(t.target||t.fromElement.parentNode).id];i&&(i.mx=i.my=-1,i.UnFreeze(),i.EndDrag())}function et(t){var i,e,n,s=pt,a=$(t);for(i in s.tc)(e=s.tc[i]).tttimer&&(clearTimeout(e.tttimer),e.tttimer=null);a&&s.tc[a]&&((n=tt(t,(e=s.tc[a]).canvas))&&(e.mx=n.x,e.my=n.y,e.Drag(t,n)),e.drawn=0)}function nt(t){var i=pt,e=y.addEventListener?0:1,n=$(t);n&&t.button==e&&i.tc[n]&&i.tc[n].BeginDrag(t)}function st(t){var i,e=pt,n=y.addEventListener?0:1,s=$(t);s&&t.button==n&&e.tc[s]&&(i=e.tc[s],et(t),i.EndDrag()||i.touchState||i.Clicked(t))}function at(t){var i,e=$(t),n=e&&pt.tc[e];n&&t.changedTouches&&(1==t.touches.length&&0==n.touchState?(n.touchState=1,n.BeginDrag(t),(i=tt(t,n.canvas))&&(n.mx=i.x,n.my=i.y,n.drawn=0)):2==t.targetTouches.length&&n.pinchZoom?(n.touchState=3,n.EndDrag(),n.BeginPinch(t)):(n.EndDrag(),n.EndPinch(),n.touchState=0))}function ot(t){var i=$(t),e=i&&pt.tc[i];if(e&&t.changedTouches){switch(e.touchState){case 1:e.Draw(),e.Clicked();break;case 2:e.EndDrag();break;case 3:e.EndPinch()}e.touchState=0}}function ht(t){var i,e,n,s=pt,a=$(t);for(i in s.tc)(e=s.tc[i]).tttimer&&(clearTimeout(e.tttimer),e.tttimer=null);if((e=a&&s.tc[a])&&t.changedTouches&&e.touchState){switch(e.touchState){case 1:case 2:(n=tt(t,e.canvas))&&(e.mx=n.x,e.my=n.y,e.Drag(t,n)&&(e.touchState=2));break;case 3:e.Pinch(t)}e.drawn=0}}function rt(t){var i=pt,e=$(t);e&&i.tc[e]&&(t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault(),i.tc[e].Wheel((t.wheelDelta||t.detail)>0))}function lt(t){var i,e=pt;for(i in clearTimeout(e.scrollTimer),e.tc)e.tc[i].Pause();e.scrollTimer=setTimeout((function(){var t,i=pt;for(t in i.tc)i.tc[t].Resume()}),e.scrollPause)}function ct(){ut(O())}function ut(t){var i,e=pt.tc;for(i in pt.NextFrame(pt.interval),t=t||O(),e)e[i].Draw(t)}function gt(t){var i=y.getElementById(t).getBoundingClientRect(),e=y.documentElement,n=y.body,s=window;return{x:i.left+(s.pageXOffset||e.scrollLeft)-(e.clientLeft||n.clientLeft),y:i.top+(s.pageYOffset||e.scrollTop)-(e.clientTop||n.clientTop)}}function ft(t){this.e=t,this.br=0,this.line=[],this.text=[],this.original=t.innerText||t.textContent}function dt(t,i){this.ts=null,this.tc=t,this.tag=i,this.x=this.y=this.w=this.h=this.sc=1,this.z=0,this.pulse=1,this.pulsate=t.pulsateTo<1,this.colour=t.outlineColour,this.adash=~~t.outlineDash,this.agap=~~t.outlineDashSpace||this.adash,this.aspeed=1*t.outlineDashSpeed,"tag"==this.colour?this.colour=J(i.a,"color"):"tagbg"==this.colour&&(this.colour=J(i.a,"background-color")),this.Draw=this.pulsate?this.DrawPulsate:this.DrawSimple,this.radius=0|t.outlineRadius,this.SetMethod(t.outlineMethod)}function mt(t,i,e,n,s,a,o,h,r,l,c,u,g,f){this.tc=t,this.image=null,this.text=i,this.text_original=f,this.line_widths=[],this.title=e.title||null,this.a=e,this.position=new I(n[0],n[1],n[2]),this.x=this.y=this.z=0,this.w=s,this.h=a,this.colour=o||t.textColour,this.bgColour=h||t.bgColour,this.bgRadius=0|r,this.bgOutline=l||this.colour,this.bgOutlineThickness=0|c,this.textFont=u||t.textFont,this.padding=0|g,this.sc=this.alpha=1,this.weighted=!t.weight,this.outline=new dt(t,this)}function pt(t,i,e){var n,s,a,o,h=y.getElementById(t),r=["id","class","innerHTML"];if(!h)throw 0;if(C(window.G_vmlCanvasManager)&&(h=window.G_vmlCanvasManager.initElement(h),this.ie=parseFloat(navigator.appVersion.split("MSIE")[1])),h&&(!h.getContext||!h.getContext("2d").fillText)){for(s=y.createElement("DIV"),n=0;n<r.length;++n)s[r[n]]=h[r[n]];throw h.parentNode.insertBefore(s,h),h.parentNode.removeChild(h),0}for(n in pt.options)this[n]=e&&C(e[n])?e[n]:C(pt[n])?pt[n]:pt.options[n];if(this.canvas=h,this.ctxt=h.getContext("2d"),this.z1=250/f(this.depth,.001),this.z2=this.z1/this.zoom,this.radius=.0075*d(h.height,h.width),this.max_radius=100,this.max_weight=[],this.min_weight=[],this.textFont=this.textFont&&Y(this.textFont),this.textHeight*=1,this.imageRadius=this.imageRadius.toString(),this.pulsateTo=z(this.pulsateTo,0,1),this.minBrightness=z(this.minBrightness,0,1),this.maxBrightness=z(this.maxBrightness,this.minBrightness,1),this.ctxt.textBaseline="top",this.lx=(this.lock+"").indexOf("x")+1,this.ly=(this.lock+"").indexOf("y")+1,this.frozen=this.dx=this.dy=this.fixedAnim=this.touchState=0,this.fixedAlpha=1,this.source=i||t,this.repeatTags=d(64,~~this.repeatTags),this.minTags=d(200,~~this.minTags),~~this.scrollPause>0?pt.scrollPause=~~this.scrollPause:this.scrollPause=0,this.minTags>0&&this.repeatTags<1&&(n=this.GetTags().length)&&(this.repeatTags=m(this.minTags/n)-1),this.transform=A.Identity(),this.startTime=this.time=O(),this.mx=this.my=-1,this.centreImage&&function(t){var i=new Image;i.onload=function(){var e=i.width/2,n=i.height/2;t.centreFunc=function(t,s,a,o,h){t.setTransform(1,0,0,1,0,0),t.globalAlpha=1,t.drawImage(i,o-e,h-n)}},i.src=t.centreImage}(this),this.Animate=this.dragControl?this.AnimateDrag:this.AnimatePosition,this.animTiming="function"==typeof pt[this.animTiming]?pt[this.animTiming]:pt.Smooth,this.shadowBlur||this.shadowOffset[0]||this.shadowOffset[1]?(this.ctxt.shadowColor=this.shadow,this.shadow=this.ctxt.shadowColor,this.shadowAlpha=function(){var t,i=B(3,3);return!!i&&((t=i.getContext("2d")).strokeStyle="#000",t.shadowColor="#fff",t.shadowBlur=3,t.globalAlpha=0,t.strokeRect(2,2,2,2),t.globalAlpha=1,i=null,t.getImageData(2,2,1,1).data[0]>0)}()):delete this.shadow,this.Load(),i&&this.hideTags&&(o=this,pt.loaded?o.HideTags():G("load",(function(){o.HideTags()}),window)),this.yaw=this.initial?this.initial[0]*this.maxSpeed:0,this.pitch=this.initial?this.initial[1]*this.maxSpeed:0,this.tooltip?(this.ctitle=h.title,h.title="","native"==this.tooltip?this.Tooltip=this.TooltipNative:(this.Tooltip=this.TooltipDiv,this.ttdiv||(this.ttdiv=y.createElement("div"),this.ttdiv.className=this.tooltipClass,this.ttdiv.style.position="absolute",this.ttdiv.style.zIndex=h.style.zIndex+1,G("mouseover",(function(t){t.target.style.display="none"}),this.ttdiv),y.body.appendChild(this.ttdiv)))):this.Tooltip=this.TooltipNone,!this.noMouse&&!T[t])for(T[t]=[["mousemove",et],["mouseout",it],["mouseup",st],["touchstart",at],["touchend",ot],["touchcancel",ot],["touchmove",ht]],this.dragControl&&(T[t].push(["mousedown",nt]),T[t].push(["selectstart",D])),this.wheelZoom&&(T[t].push(["mousewheel",rt]),T[t].push(["DOMMouseScroll",rt])),this.scrollPause&&T[t].push(["scroll",lt,window]),n=0;n<T[t].length;++n)G((s=T[t][n])[0],s[1],s[2]?s[2]:h);pt.started||(a=window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,pt.NextFrame=a?pt.NextFrameRAF:pt.NextFrameTimeout,pt.interval=this.interval,pt.NextFrame(this.interval),pt.started=1)}function wt(t){var i=t.targetTouches[0],e=t.targetTouches[1];return p(w(e.pageX-i.pageX,2)+w(e.pageY-i.pageY,2))}function xt(t,i){pt.tc[i]&&pt.tc[i][t]()}for(t in(o=I.prototype).length=function(){return p(this.x*this.x+this.y*this.y+this.z*this.z)},o.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},o.cross=function(t){return new I(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},o.angle=function(t){var i,e=this.dot(t);return 0==e?Math.PI/2:(i=e/(this.length()*t.length()))>=1?0:i<=-1?Math.PI:Math.acos(i)},o.unit=function(){var t=this.length();return new I(this.x/t,this.y/t,this.z/t)},a=A.prototype,A.Identity=function(){return new A([1,0,0,0,1,0,0,0,1])},A.Rotation=function(t,i){var e=u(t),n=g(t),s=1-n;return new A([n+w(i.x,2)*s,i.x*i.y*s-i.z*e,i.x*i.z*s+i.y*e,i.y*i.x*s+i.z*e,n+w(i.y,2)*s,i.y*i.z*s-i.x*e,i.z*i.x*s-i.y*e,i.z*i.y*s+i.x*e,n+w(i.z,2)*s])},a.mul=function(t){var i,e,n=[],s=t.xform?1:0;for(i=1;i<=3;++i)for(e=1;e<=3;++e)n.push(s?this[i][1]*t[1][e]+this[i][2]*t[2][e]+this[i][3]*t[3][e]:this[i][e]*t);return new A(n)},a.xform=function(t){var i={},e=t.x,n=t.y,s=t.z;return i.x=e*this[1][1]+n*this[2][1]+s*this[3][1],i.y=e*this[1][2]+n*this[2][2]+s*this[3][2],i.z=e*this[1][3]+n*this[2][3]+s*this[3][3],i},(r=V.prototype).SetImage=function(t,i,e,n,s,a,o,h){this.image=t,this.iwidth=i*this.scale,this.iheight=e*this.scale,this.ipos=n,this.ipad=s*this.scale,this.iscale=h,this.ialign=a,this.ivalign=o},r.Align=function(t,i,e){var n=0;return"right"==e||"bottom"==e?n=i-t:"left"!=e&&"top"!=e&&(n=(i-t)/2),n},r.Create=function(t,i,e,n,s,a,o,h,r){var l,u,g,m,p,w,x,v,b,y,T,C,S,z,D,O,M,I=c(o[0]),A=c(o[1]);return h=f(h,I+a,A+a),u=this.width+(p=2*(h+n)),g=this.height+(x=2*(h+n)),b=y=h+n,this.image&&(T=C=h+n,S=this.iwidth,z=this.iheight,"top"==this.ipos||"bottom"==this.ipos?(S<this.width?T+=this.Align(S,this.width,this.ialign):b+=this.Align(this.width,S,this.align),"top"==this.ipos?y+=z+this.ipad:C+=this.height+this.ipad,u=f(u,S+p),g+=z+this.ipad):(z<this.height?C+=this.Align(z,this.height,this.ivalign):y+=this.Align(this.height,z,this.valign),"right"==this.ipos?T+=this.width+this.ipad:b+=S+this.ipad,u+=S+this.ipad,g=f(g,z+x))),(l=B(u,g))?(p=x=n/2,D=d(r,(w=u-n)/2,(v=g-n)/2),m=l.getContext("2d"),i&&(m.fillStyle=i,W(m,p,x,w,v,D)),n&&(m.strokeStyle=e,m.lineWidth=n,W(m,p,x,w,v,D,!0)),(a||I||A)&&(O=B(u,g))&&(M=m,m=O.getContext("2d")),j(m,this.font,t,this.strings,b,y,0,0,[],this.maxWidth,this.stringWidths,this.align),this.image&&m.drawImage(this.image,T,C,S,z),M&&(m=M,s&&(m.shadowColor=s),a&&(m.shadowBlur=a),m.shadowOffsetX=o[0],m.shadowOffsetY=o[1],m.drawImage(O,0,0)),l):null},(h=ft.prototype).Empty=function(){for(var t=0;t<this.text.length;++t)if(this.text[t].length)return!1;return!0},h.Lines=function(t){var i,e,n,s=t?1:0;for(e=(i=(t=t||this.e).childNodes).length,n=0;n<e;++n)"BR"==i[n].nodeName?(this.text.push(this.line.join(" ")),this.br=1):3==i[n].nodeType?this.br?(this.line=[i[n].nodeValue],this.br=0):this.line.push(i[n].nodeValue):this.Lines(i[n]);return s||this.br||this.text.push(this.line.join(" ")),this.text},h.SplitWidth=function(t,i,e,n){var s,a,o,h=[];for(i.font=n+"px "+e,s=0;s<this.text.length;++s){for(o=this.text[s].split(/\s+/),this.line=[o[0]],a=1;a<o.length;++a)i.measureText(this.line.join(" ")+" "+o[a]).width>t?(h.push(this.line.join(" ")),this.line=[o[a]]):this.line.push(o[a]);h.push(this.line.join(" "))}return this.text=h},(e=dt.prototype).SetMethod=function(t){var i={block:["PreDraw","DrawBlock"],colour:["PreDraw","DrawColour"],outline:["PostDraw","DrawOutline"],classic:["LastDraw","DrawOutline"],size:["PreDraw","DrawSize"],none:["LastDraw"]},e=i[t]||i.outline;"none"==t?this.Draw=function(){return 1}:this.drawFunc=this[e[1]],this[e[0]]=this.Draw},e.Update=function(t,i,e,n,s,a,o,h){var r=this.tc.outlineOffset,l=2*r;this.x=s*t+o-r,this.y=s*i+h-r,this.w=s*e+l,this.h=s*n+l,this.sc=s,this.z=a},e.Ants=function(t){if(this.adash){var i,e=this.adash,n=this.agap,s=this.aspeed,a=e+n,o=0,h=e,r=n,l=0,u=0;s&&(u=c(s)*(O()-this.ts)/50,s<0&&(u=864e4-u),s=~~u%a),s?(e>=s?(o=e-s,h=s):l=n-(r=a-s),i=[o,r,h,l]):i=[e,n],t.setLineDash(i)}},e.DrawOutline=function(t,i,e,n,s,a){var o=d(this.radius,s/2,n/2);t.strokeStyle=a,this.Ants(t),W(t,i,e,n,s,o,!0)},e.DrawSize=function(t,i,e,n,s,a,o,h,r){var l,c,u=o.w,g=o.h;return this.pulsate?(c=o.fimage||o.image,o.h*=l=1+((o.image?(o.image.height+this.tc.outlineIncrease)/o.image.height:o.oscale)-1)*(1-this.pulse),o.w*=l):c=o.oimage,o.alpha=1,o.Draw(t,h,r,c),o.h=g,o.w=u,1},e.DrawColour=function(t,i,e,n,s,a,o,h,r){return o.oimage?(this.pulse<1?(o.alpha=1-w(this.pulse,2),o.Draw(t,h,r,o.fimage),o.alpha=this.pulse):o.alpha=1,o.Draw(t,h,r,o.oimage),1):this[o.image?"DrawColourImage":"DrawColourText"](t,i,e,n,s,a,o,h,r)},e.DrawColourText=function(t,i,e,n,s,a,o,h,r){var l=o.colour;return o.colour=a,o.alpha=1,o.Draw(t,h,r),o.colour=l,1},e.DrawColourImage=function(t,i,e,n,s,a,o,h,r){var c=t.canvas,u=~~f(i,0),g=~~f(e,0),m=d(c.width-u,n)+.5|0,p=d(c.height-g,s)+.5|0;return l?(l.width=m,l.height=p):l=B(m,p),l?(l.getContext("2d").drawImage(c,u,g,m,p,0,0,m,p),t.clearRect(u,g,m,p),o.alpha=this.pulsate?1-w(this.pulse,2):1,o.Draw(t,h,r),t.setTransform(1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(u,g,m,p),t.clip(),t.globalCompositeOperation="source-in",t.fillStyle=a,t.fillRect(u,g,m,p),t.restore(),t.globalAlpha=1,t.globalCompositeOperation="destination-over",t.drawImage(l,0,0,m,p,u,g,m,p),t.globalCompositeOperation="source-over",1):this.SetMethod("outline")},e.DrawBlock=function(t,i,e,n,s,a){var o=d(this.radius,s/2,n/2);t.fillStyle=a,W(t,i,e,n,s,o)},e.DrawSimple=function(t,i,e,n,s,a){var o=this.tc;return t.setTransform(1,0,0,1,0,0),t.strokeStyle=this.colour,t.lineWidth=o.outlineThickness,t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0,t.globalAlpha=a?s:1,this.drawFunc(t,this.x,this.y,this.w,this.h,this.colour,i,e,n)},e.DrawPulsate=function(t,i,e,n){var s=O()-this.ts,a=this.tc,o=a.pulsateTo+(1-a.pulsateTo)*(.5+g(2*Math.PI*s/(1e3*a.pulsateTime))/2);return this.pulse=o=pt.Smooth(1,o),this.DrawSimple(t,i,e,n,o,1)},e.Active=function(t,i,e){var n=i>=this.x&&e>=this.y&&i<=this.x+this.w&&e<=this.y+this.h;return this.ts=n?this.ts||O():null,n},e.PreDraw=e.PostDraw=e.LastDraw=D,(n=mt.prototype).Init=function(t){var i=this.tc;this.textHeight=i.textHeight,this.HasText()?this.Measure(i.ctxt,i):(this.w=this.iw,this.h=this.ih),this.SetShadowColour=i.shadowAlpha?this.SetShadowColourAlpha:this.SetShadowColourFixed,this.SetDraw(i)},n.Draw=D,n.HasText=function(){return this.text&&this.text[0].length>0},n.EqualTo=function(t){var i=t.getElementsByTagName("img");return this.a.href!=t.href?0:i.length?this.image.src==i[0].src:(t.innerText||t.textContent)==this.text_original},n.SetImage=function(t){this.image=this.fimage=t},n.SetDraw=function(t){this.Draw=this.fimage?t.ie>7?this.DrawImageIE:this.DrawImage:this.DrawText,t.noSelect&&(this.CheckActive=D)},n.MeasureText=function(t){var i,e,n=this.text.length,s=0;for(i=0;i<n;++i)this.line_widths[i]=e=t.measureText(this.text[i]).width,s=f(s,e);return s},n.Measure=function(t,i){var e,n,s,a,o,h,r,l,c,u=Q(this.text,this.textFont,this.textHeight);r=u?u.max.y+u.min.y:this.textHeight,t.font=this.font=this.textHeight+"px "+this.textFont,h=this.MeasureText(t),i.txtOpt&&(a=[(e=i.txtScale)*i.shadowOffset[0],e*i.shadowOffset[1]],t.font=s=(n=e*this.textHeight)+"px "+this.textFont,o=this.MeasureText(t),c=new V(this.text,s,o+e,e*r+e,o,this.line_widths,i.textAlign,i.textVAlign,e),this.image&&c.SetImage(this.image,this.iw,this.ih,i.imagePosition,i.imagePadding,i.imageAlign,i.imageVAlign,i.imageScale),l=c.Create(this.colour,this.bgColour,this.bgOutline,e*this.bgOutlineThickness,i.shadow,e*i.shadowBlur,a,e*this.padding,e*this.bgRadius),"colour"==i.outlineMethod?this.oimage=c.Create(this.outline.colour,this.bgColour,this.outline.colour,e*this.bgOutlineThickness,i.shadow,e*i.shadowBlur,a,e*this.padding,e*this.bgRadius):"size"==i.outlineMethod&&(n=(u=Q(this.text,this.textFont,this.textHeight+i.outlineIncrease)).max.y+u.min.y,t.font=s=e*(this.textHeight+i.outlineIncrease)+"px "+this.textFont,o=this.MeasureText(t),c=new V(this.text,s,o+e,e*n+e,o,this.line_widths,i.textAlign,i.textVAlign,e),this.image&&c.SetImage(this.image,this.iw+i.outlineIncrease,this.ih+i.outlineIncrease,i.imagePosition,i.imagePadding,i.imageAlign,i.imageVAlign,i.imageScale),this.oimage=c.Create(this.colour,this.bgColour,this.bgOutline,e*this.bgOutlineThickness,i.shadow,e*i.shadowBlur,a,e*this.padding,e*this.bgRadius),this.oscale=this.oimage.width/l.width,i.outlineIncrease>0?l=q(l,this.oimage.width,this.oimage.height):this.oimage=q(this.oimage,l.width,l.height)),l&&(this.fimage=l,h=this.fimage.width/e,r=this.fimage.height/e),this.SetDraw(i),i.txtOpt=!!this.fimage),this.h=r,this.w=h},n.SetFont=function(t,i,e,n){this.textFont=t,this.colour=i,this.bgColour=e,this.bgOutline=n,this.Measure(this.tc.ctxt,this.tc)},n.SetWeight=function(t){var i,e,n=this.tc,s=n.weightMode.split(/[, ]/),a=t.length;if(this.HasText()){for(this.weighted=!0,e=0;e<a;++e)"both"==(i=s[e]||"size")?(this.Weight(t[e],n.ctxt,n,"size",n.min_weight[e],n.max_weight[e],e),this.Weight(t[e],n.ctxt,n,"colour",n.min_weight[e],n.max_weight[e],e)):this.Weight(t[e],n.ctxt,n,i,n.min_weight[e],n.max_weight[e],e);this.Measure(n.ctxt,n)}},n.Weight=function(t,i,e,n,s,a,o){var h=((t=isNaN(t)?1:t)-s)/(a-s);"colour"==n?this.colour=H(e,h,o):"bgcolour"==n?this.bgColour=H(e,h,o):"bgoutline"==n?this.bgOutline=H(e,h,o):"outline"==n?this.outline.colour=H(e,h,o):"size"==n&&(this.textHeight=e.weightSizeMin>0&&e.weightSizeMax>e.weightSizeMin?e.weightSize*(e.weightSizeMin+(e.weightSizeMax-e.weightSizeMin)*h):f(1,t*e.weightSize))},n.SetShadowColourFixed=function(t,i,e){t.shadowColor=i},n.SetShadowColourAlpha=function(t,i,e){t.shadowColor=function(t,i){var e,n,s=t,a=(1*i).toPrecision(3)+")";return"#"===t[0]?(x[t]||(x[t]=4===t.length?"rgba("+b[t[1]]+b[t[2]]+b[t[3]]:"rgba("+v[t.substr(1,2)]+v[t.substr(3,2)]+v[t.substr(5,2)]),s=x[t]+a):"rgb("===t.substr(0,4)||"hsl("===t.substr(0,4)?s=t.replace("(","a(").replace(")",","+a):"rgba("!==t.substr(0,5)&&"hsla("!==t.substr(0,5)||(e=t.lastIndexOf(",")+1,n=t.indexOf(")"),i*=parseFloat(t.substring(e,n)),s=t.substr(0,e)+i.toPrecision(3)+")"),s}(i,e)},n.DrawText=function(t,i,e){var n,s,a=this.tc,o=this.x,h=this.y,r=this.sc;for(t.globalAlpha=this.alpha,t.fillStyle=this.colour,a.shadow&&this.SetShadowColour(t,a.shadow,this.alpha),t.font=this.font,o+=i/r,h+=e/r-this.h/2,n=0;n<this.text.length;++n)s=o,"right"==a.textAlign?s+=this.w/2-this.line_widths[n]:s-="centre"==a.textAlign?this.line_widths[n]/2:this.w/2,t.setTransform(r,0,0,r,r*s,r*h),t.fillText(this.text[n],0,0),h+=this.textHeight},n.DrawImage=function(t,i,e,n){var s=this.x,a=this.y,o=this.sc,h=n||this.fimage,r=this.w,l=this.h,c=this.alpha,u=this.shadow;t.globalAlpha=c,u&&this.SetShadowColour(t,u,c),t.setTransform(o,0,0,o,o*(s+=i/o-r/2),o*(a+=e/o-l/2)),t.drawImage(h,0,0,r,l)},n.DrawImageIE=function(t,i,e){var n=this.fimage,s=this.sc,a=n.width=this.w*s,o=n.height=this.h*s,h=this.x*s+i-a/2,r=this.y*s+e-o/2;t.setTransform(1,0,0,1,0,0),t.globalAlpha=this.alpha,t.drawImage(n,h,r)},n.Calc=function(t,i){var e,n=this.tc,s=n.minBrightness,a=n.maxBrightness,o=n.max_radius;return e=t.xform(this.position),this.xformed=e,e=function(t,i,e,n){var s=t.radius*t.z1/(t.z1+t.z2+i.z);return{x:i.x*s*e,y:i.y*s*n,z:i.z,w:(t.z1-i.z)/t.z2}}(n,e,n.stretchX,n.stretchY),this.x=e.x,this.y=e.y,this.z=e.z,this.sc=e.w,this.alpha=i*z(s+(a-s)*(o-this.z)/(2*o),0,1),this.xformed},n.UpdateActive=function(t,i,e){var n=this.outline,s=this.w,a=this.h;return n.Update(this.x-s/2,this.y-a/2,s,a,this.sc,this.z,i,e),n},n.CheckActive=function(t,i,e){var n=this.tc,s=this.UpdateActive(t,i,e);return s.Active(t,n.mx,n.my)?s:null},n.Clicked=function(t){var i,e=this.a,n=e.target,s=e.href;if(""==n||"_self"==n){if(y.createEvent){if((i=y.createEvent("MouseEvents")).initMouseEvent("click",1,1,window,0,0,0,0,0,0,0,0,0,0,null),!e.dispatchEvent(i))return}else if(e.fireEvent&&!e.fireEvent("onclick"))return;y.location=s}else if(self.frames[n])self.frames[n].document.location=s;else{try{if(top.frames[n])return void(top.frames[n].document.location=s)}catch(a){}window.open(s,n)}},(s=pt.prototype).SourceElements=function(){return y.querySelectorAll?y.querySelectorAll("#"+this.source):[y.getElementById(this.source)]},s.HideTags=function(){var t,i=this.SourceElements();for(t=0;t<i.length;++t)i[t].style.display="none"},s.GetTags=function(){var t,i,e,n,s=this.SourceElements(),a=[];for(n=0;n<=this.repeatTags;++n)for(i=0;i<s.length;++i)for(t=s[i].getElementsByTagName("a"),e=0;e<t.length;++e)a.push(t[e]);return a},s.Message=function(t){var i,e,n,s,a,o,h=[],r=t.split("");for(i=0;i<r.length;++i)" "!=r[i]&&(e=i-r.length/2,(n=y.createElement("A")).href="#",n.innerText=r[i],a=100*u(e/9),o=-100*g(e/9),(s=new mt(this,r[i],n,[a,0,o],2,18,"#000","#fff",0,0,0,"monospace",2,r[i])).Init(),h.push(s));return h},s.CreateTag=function(t){var i,e,n,s,a,o,h,r,l=[0,0,0];return"text"!=this.imageMode&&(i=t.getElementsByTagName("img")).length&&((e=new Image).src=i[0].src,!this.imageMode)?((n=new mt(this,"",t,l,0,0)).SetImage(e),Z(e,i[0],n,this),n):("image"!=this.imageMode&&(s=(a=new ft(t)).Lines(),a.Empty()?a=null:(o=this.textFont||Y(J(t,"font-family")),this.splitWidth&&(s=a.SplitWidth(this.splitWidth,this.ctxt,o,this.textHeight)),h="tag"==this.bgColour?J(t,"background-color"):this.bgColour,r="tag"==this.bgOutline?J(t,"color"):this.bgOutline)),a||e?(n=new mt(this,s,t,l,2,this.textHeight+2,this.textColour||J(t,"color"),h,this.bgRadius,r,this.bgOutlineThickness,o,this.padding,a&&a.original),e?(n.SetImage(e),Z(e,i[0],n,this)):n.Init(),n):void 0)},s.UpdateTag=function(t,i){var e=this.textColour||J(i,"color"),n=this.textFont||Y(J(i,"font-family")),s="tag"==this.bgColour?J(i,"background-color"):this.bgColour,a="tag"==this.bgOutline?J(i,"color"):this.bgOutline;t.a=i,t.title=i.title,t.colour==e&&t.textFont==n&&t.bgColour==s&&t.bgOutline==a||t.SetFont(n,e,s,a)},s.Weight=function(t){var i,e,n,s,a=t.length,o=[],h=this.weightFrom?this.weightFrom.split(/[, ]/):[null],r=h.length;for(e=0;e<a;++e)for(o[e]=[],n=0;n<r;++n)i=K(t[e].a,h[n],this.textHeight),(!this.max_weight[n]||i>this.max_weight[n])&&(this.max_weight[n]=i),(!this.min_weight[n]||i<this.min_weight[n])&&(this.min_weight[n]=i),o[e][n]=i;for(n=0;n<r;++n)this.max_weight[n]>this.min_weight[n]&&(s=1);if(s)for(e=0;e<a;++e)t[e].SetWeight(o[e])},s.Load=function(){var t,i,e,n,s,a,o,h,r=this.GetTags(),l=[],c=[],u={sphere:k,vcylinder:_,hcylinder:E,vring:R,hring:N};if(r.length){for(c.length=r.length,h=0;h<r.length;++h)c[h]=h;for(this.shuffleTags&&M(c),this.max_radius=f(n=100*this.radiusX,f(s=100*this.radiusY,a=100*this.radiusZ)),h=0;h<r.length;++h)(i=this.CreateTag(r[c[h]]))&&l.push(i);for(this.weight&&this.Weight(l,!0),this.shapeArgs?this.shapeArgs[0]=l.length:(t=(e=this.shape.toString().split(/[(),]/)).shift(),this.shape="function"==typeof window[t]?window[t]:u[t]||u.sphere,this.shapeArgs=[l.length,n,s,a].concat(e)),o=this.shape.apply(this,this.shapeArgs),this.listLength=l.length,h=0;h<l.length;++h)l[h].position=new I(o[h][0],o[h][1],o[h][2])}this.noTagsMessage&&!l.length&&(l=this.Message("No "+(h=this.imageMode&&"both"!=this.imageMode?this.imageMode+" ":"")+"tags")),this.taglist=l},s.Update=function(){var t,i,e,n,s,a,o=this.GetTags(),h=[],r=this.taglist,l=[],c=[];if(!this.shapeArgs)return this.Load();if(o.length){for(n=this.listLength=o.length,e=r.length,s=0;s<e;++s)h.push(r[s]),c.push(s);for(s=0;s<n;++s){for(a=0,t=0;a<e;++a)r[a].EqualTo(o[s])&&(this.UpdateTag(h[a],o[s]),t=c[a]=-1);t||l.push(s)}for(s=0,a=0;s<e;++s)-1==c[a]?c.splice(a,1):++a;if(c.length){for(M(c);c.length&&l.length;)s=c.shift(),a=l.shift(),h[s]=this.CreateTag(o[a]);for(c.sort((function(t,i){return t-i}));c.length;)h.splice(c.pop(),1)}for(a=h.length/(l.length+1),s=0;l.length;)h.splice(m(++s*a),0,this.CreateTag(o[l.shift()]));for(this.shapeArgs[0]=n=h.length,i=this.shape.apply(this,this.shapeArgs),s=0;s<n;++s)h[s].position=new I(i[s][0],i[s][1],i[s][2]);this.weight&&this.Weight(h)}this.taglist=h},s.SetShadow=function(t){t.shadowBlur=this.shadowBlur,t.shadowOffsetX=this.shadowOffset[0],t.shadowOffsetY=this.shadowOffset[1]},s.Draw=function(t){if(!this.paused){var i,e,n,s,a=this.canvas,o=a.width,h=a.height,r=0,l=(t-this.time)*pt.interval/1e3,c=o/2+this.offsetX,u=h/2+this.offsetY,g=this.ctxt,f=-1,d=this.taglist,m=d.length,p=this.frontSelect,w=this.centreFunc==D;if(this.time=t,this.frozen&&this.drawn)return this.Animate(o,h,l);for(s=this.AnimateFixed(),g.setTransform(1,0,0,1,0,0),n=0;n<m;++n)d[n].Calc(this.transform,this.fixedAlpha);if(d=function(t,i){var e,n=[],s=t.length;for(e=0;e<s;++e)n.push(t[e]);return n.sort((function(t,i){return i.z-t.z})),n}(d),s&&this.fixedAnim.active)i=this.fixedAnim.tag.UpdateActive(g,c,u);else{for(this.active=null,n=0;n<m;++n)(e=this.mx>=0&&this.my>=0&&this.taglist[n].CheckActive(g,c,u))&&e.sc>r&&(!p||e.z<=0)&&(f=n,(i=e).tag=this.taglist[n],r=e.sc);this.active=i}for(this.txtOpt||this.shadow&&this.SetShadow(g),g.clearRect(0,0,o,h),n=0;n<m;++n){if(!w&&d[n].z<=0){try{this.centreFunc(g,o,h,c,u)}catch(x){alert(x),this.centreFunc=D}w=!0}i&&i.tag==d[n]&&i.PreDraw(g,d[n],c,u)||d[n].Draw(g,c,u),i&&i.tag==d[n]&&i.PostDraw(g)}this.freezeActive&&i?this.Freeze():(this.UnFreeze(),this.drawn=m==this.listLength),this.fixedCallback&&(this.fixedCallback(this,this.fixedCallbackTag),this.fixedCallback=null),s||this.Animate(o,h,l),i&&i.LastDraw(g),a.style.cursor=i?this.activeCursor:"",this.Tooltip(i,this.taglist[f])}},s.TooltipNone=function(){},s.TooltipNative=function(t,i){this.canvas.title=t?i&&i.title?i.title:"":this.ctitle},s.SetTTDiv=function(t,i){var e=this,n=e.ttdiv.style;t!=e.ttdiv.innerHTML&&(n.display="none"),e.ttdiv.innerHTML=t,i&&(i.title=e.ttdiv.innerHTML),"none"!=n.display||e.tttimer||(e.tttimer=setTimeout((function(){var t=gt(e.canvas.id);n.display="block",n.left=t.x+e.mx+"px",n.top=t.y+e.my+24+"px",e.tttimer=null}),e.tooltipDelay))},s.TooltipDiv=function(t,i){t&&i&&i.title?this.SetTTDiv(i.title,i):!t&&-1!=this.mx&&-1!=this.my&&this.ctitle.length?this.SetTTDiv(this.ctitle):this.ttdiv.style.display="none"},s.Transform=function(t,i,e){if(i||e){var n=u(i),s=g(i),a=u(e),o=g(e),h=new A([o,0,a,0,1,0,-a,0,o]),r=new A([1,0,0,0,s,-n,0,n,s]);t.transform=t.transform.mul(h.mul(r))}},s.AnimateFixed=function(){var t,i,e,n,s;return this.fadeIn&&((i=O()-this.startTime)>=this.fadeIn?(this.fadeIn=0,this.fixedAlpha=1):this.fixedAlpha=i/this.fadeIn),!!this.fixedAnim&&(this.fixedAnim.transform||(this.fixedAnim.transform=this.transform),t=this.fixedAnim,i=O()-t.t0,e=t.angle,s=this.animTiming(t.t,i),this.transform=t.transform,i>=t.t?(this.fixedCallbackTag=t.tag,this.fixedCallback=t.cb,this.fixedAnim=this.yaw=this.pitch=0):e*=s,n=A.Rotation(e,t.axis),this.transform=this.transform.mul(n),0!=this.fixedAnim)},s.AnimatePosition=function(t,i,e){var n,s,a=this,o=a.mx,h=a.my;!a.frozen&&o>=0&&h>=0&&o<t&&h<i?(n=a.maxSpeed,s=a.reverse?-1:1,a.lx||(a.yaw=(2*o*n/t-n)*s*e),a.ly||(a.pitch=(2*h*n/i-n)*-s*e),a.initial=null):a.initial||(a.frozen&&!a.freezeDecel?a.yaw=a.pitch=0:a.Decel(a)),this.Transform(a,a.pitch,a.yaw)},s.AnimateDrag=function(t,i,e){var n=this,s=100*e*n.maxSpeed/n.max_radius/n.zoom;n.dx||n.dy?(n.lx||(n.yaw=n.dx*s/n.stretchX),n.ly||(n.pitch=n.dy*-s/n.stretchY),n.dx=n.dy=0,n.initial=null):n.initial||n.Decel(n),this.Transform(n,n.pitch,n.yaw)},s.Freeze=function(){this.frozen||(this.preFreeze=[this.yaw,this.pitch],this.frozen=1,this.drawn=0)},s.UnFreeze=function(){this.frozen&&(this.yaw=this.preFreeze[0],this.pitch=this.preFreeze[1],this.frozen=0)},s.Decel=function(t){var i=t.minSpeed,e=c(t.yaw),n=c(t.pitch);!t.lx&&e>i&&(t.yaw=e>t.z0?t.yaw*t.decel:0),!t.ly&&n>i&&(t.pitch=n>t.z0?t.pitch*t.decel:0)},s.Zoom=function(t){this.z2=this.z1*(1/t),this.drawn=0},s.Clicked=function(t){var i=this.active;try{i&&i.tag&&(!1===this.clickToFront||null===this.clickToFront?i.tag.Clicked(t):this.TagToFront(i.tag,this.clickToFront,(function(){i.tag.Clicked(t)}),!0))}catch(e){}},s.Wheel=function(t){this.zoom=d(this.zoomMax,f(this.zoomMin,this.zoom+this.zoomStep*(t?1:-1))),this.Zoom(this.zoom)},s.BeginDrag=function(t){this.down=tt(t,this.canvas),t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault()},s.Drag=function(t,i){if(this.dragControl&&this.down){var e=i.x-this.down.x,n=i.y-this.down.y;(this.dragging||e*e+n*n>this.dragThreshold*this.dragThreshold)&&(this.dx=e,this.dy=n,this.dragging=1,this.down=i)}return this.dragging},s.EndDrag=function(){var t=this.dragging;return this.dragging=this.down=null,t},s.BeginPinch=function(t){this.pinched=[wt(t),this.zoom],t.preventDefault&&t.preventDefault()},s.Pinch=function(t){var i,e=this.pinched;e&&(i=wt(t),this.zoom=d(this.zoomMax,f(this.zoomMin,e[1]*i/e[0])),this.Zoom(this.zoom))},s.EndPinch=function(t){this.pinched=null},s.Pause=function(){this.paused=!0},s.Resume=function(){this.paused=!1},s.SetSpeed=function(t){this.initial=t,this.yaw=t[0]*this.maxSpeed,this.pitch=t[1]*this.maxSpeed},s.FindTag=function(t){if(!C(t))return null;if(C(t.index)&&(t=t.index),!S(t))return this.taglist[t];var i,e,n;for(C(t.id)?(i="id",e=t.id):C(t.text)&&(i="innerText",e=t.text),n=0;n<this.taglist.length;++n)if(this.taglist[n].a[i]==e)return this.taglist[n]},s.RotateTag=function(t,i,e,n,s,a){var o=t.Calc(this.transform,1),h=new I(o.x,o.y,o.z),r=function(t,i){return i=i*Math.PI/180,t=t*Math.PI/180,new I(u(t)*g(i),-u(i),-g(t)*g(i))}(e,i),l=h.angle(r),c=h.cross(r).unit();0==l?(this.fixedCallbackTag=t,this.fixedCallback=s):this.fixedAnim={angle:-l,axis:c,t:n,t0:O(),cb:s,tag:t,active:a}},s.TagToFront=function(t,i,e,n){this.RotateTag(t,0,0,i,e,n)},pt.Start=function(t,i,e){pt.Delete(t),pt.tc[t]=new pt(t,i,e)},pt.Linear=function(t,i){return i/t},pt.Smooth=function(t,i){return.5-g(i*Math.PI/t)/2},pt.Pause=function(t){xt("Pause",t)},pt.Resume=function(t){xt("Resume",t)},pt.Reload=function(t){xt("Load",t)},pt.Update=function(t){xt("Update",t)},pt.SetSpeed=function(t,i){return!(!S(i)||!pt.tc[t]||isNaN(i[0])||isNaN(i[1])||(pt.tc[t].SetSpeed(i),0))},pt.TagToFront=function(t,i){return!!S(i)&&(i.lat=i.lng=0,pt.RotateTag(t,i))},pt.RotateTag=function(t,i){if(S(i)&&pt.tc[t]){isNaN(i.time)&&(i.time=500);var e=pt.tc[t].FindTag(i);if(e)return pt.tc[t].RotateTag(e,i.lat,i.lng,i.time,i.callback,i.active),!0}return!1},pt.Delete=function(t){var i,e,n,s,a;if(T[t]&&(e=y.getElementById(t)))for(i=0;i<T[t].length;++i)n=T[t][i][0],s=T[t][i][1],(a=(a=e)||y).removeEventListener?a.removeEventListener(n,s):a.detachEvent("on"+n,s);delete T[t],delete pt.tc[t]},pt.NextFrameRAF=function(){requestAnimationFrame(ut)},pt.NextFrameTimeout=function(t){setTimeout(ct,t)},pt.tc={},pt.options={z1:2e4,z2:2e4,z0:2e-4,freezeActive:!1,freezeDecel:!1,activeCursor:"pointer",pulsateTo:1,pulsateTime:3,reverse:!1,depth:.5,maxSpeed:.05,minSpeed:0,decel:.95,interval:20,minBrightness:.1,maxBrightness:1,outlineColour:"#ffff99",outlineThickness:2,outlineOffset:5,outlineMethod:"outline",outlineRadius:0,textColour:"#ff99ff",textHeight:15,textFont:"Helvetica, Arial, sans-serif",shadow:"#000",shadowBlur:0,shadowOffset:[0,0],initial:null,hideTags:!0,zoom:1,weight:!1,weightMode:"size",weightFrom:null,weightSize:1,weightSizeMin:null,weightSizeMax:null,weightGradient:{0:"#f00",.33:"#ff0",.66:"#0f0",1:"#00f"},txtOpt:!0,txtScale:2,frontSelect:!1,wheelZoom:!0,zoomMin:.3,zoomMax:3,zoomStep:.05,shape:"sphere",lock:null,tooltip:null,tooltipDelay:300,tooltipClass:"tctooltip",radiusX:1,radiusY:1,radiusZ:1,stretchX:1,stretchY:1,offsetX:0,offsetY:0,shuffleTags:!1,noSelect:!1,noMouse:!1,imageScale:1,paused:!1,dragControl:!1,dragThreshold:4,centreFunc:D,splitWidth:0,animTiming:"Smooth",clickToFront:!1,fadeIn:0,padding:0,bgColour:null,bgRadius:0,bgOutline:null,bgOutlineThickness:0,outlineIncrease:4,textAlign:"centre",textVAlign:"middle",imageMode:null,imagePosition:null,imagePadding:2,imageAlign:"centre",imageVAlign:"middle",noTagsMessage:!0,centreImage:null,pinchZoom:!1,repeatTags:0,minTags:0,imageRadius:0,scrollPause:!1,outlineDash:0,outlineDashSpace:0,outlineDashSpeed:1})pt[t]=pt.options[t];window.TagCanvas=pt,G("load",(function(){pt.loaded=1}),window)}()},"4fRq":function(t,i){var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var s=new Array(16);t.exports=function(){for(var t,i=0;i<16;i++)0==(3&i)&&(t=4294967296*Math.random()),s[i]=t>>>((3&i)<<3)&255;return s}}},"99Un":function(t,i,e){"use strict";e.r(i);var n=e("Valr"),s=e("DUip"),a=e("TYT/"),o=e("mrSG"),h=e("EcEN"),r=(e("3wXT"),["canvas"]);function l(t,i){if(1&t){var e=a.Tb();a.Sb(0,"a",4),a.ac("click",(function(t){a.oc(e);var n=i.$implicit;return a.dc().tagClick.next(n)})),a.wc(1),a.Qb()}if(2&t){var n=i.$implicit;a.Bb("data-weight",n.weight),a.zb(1),a.xc(n.text)}}var c=function(){function t(t){this.elementRef=t,this._instanceId=Object(h.v4)(),this.canvasId="canvas-"+this._instanceId,this.tagListId="tags-"+this._instanceId,this.defaultOptions={textFont:null,textColour:null,weightFrom:"data-weight"},this.tagClick=new a.m}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,this.start()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this.canvas.nativeElement;t.width=Math.round(t.clientWidth),t.height=Math.round(t.clientHeight);var i=window.getComputedStyle(this.elementRef.nativeElement);this.defaultOptions.textHeight=parseFloat(i["font-size"]),this.start()},t.prototype.start=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){var t;return Object(o.__generator)(this,(function(i){switch(i.label){case 0:return t=Object.assign({},this.defaultOptions,this._options),[4,u()];case 1:return i.sent(),TagCanvas.Start(this.canvasId,this.tagListId,t),[2]}}))}))},t.prototype.update=function(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,u()];case 1:return t.sent(),TagCanvas.Update(this.canvasId),[2]}}))}))},t.prototype.ngDoCheck=function(){var t=JSON.stringify(this.tags.map((function(t){return[t.text,t.weight]})));this._previousTagListState!==t&&(this._previousTagListState=t,this.update())},t.prototype.ngOnDestroy=function(){TagCanvas.Delete(this.canvasId)},t.ɵfac=function(i){return new(i||t)(a.Mb(a.k))},t.ɵcmp=a.Gb({type:t,selectors:[["tag-canvas"]],viewQuery:function(t,i){var e;1&t&&a.Ac(r,!0),2&t&&a.lc(e=a.bc())&&(i.canvas=e.first)},inputs:{options:"options",tags:"tags"},outputs:{tagClick:"tagClick"},decls:4,vars:3,consts:[[3,"id"],["canvas",""],[1,"tag-container",3,"id"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,i){1&t&&(a.Nb(0,"canvas",0,1),a.Sb(2,"div",2),a.vc(3,l,2,2,"a",3),a.Qb()),2&t&&(a.jc("id",i.canvasId),a.zb(2),a.jc("id",i.tagListId),a.zb(1),a.ic("ngForOf",i.tags))},directives:[n.j],styles:["[_nghost-%COMP%]{display:block}canvas[_ngcontent-%COMP%]{display:block;width:100%;height:100%}.tag-container[_ngcontent-%COMP%]{display:none}.tag-container[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-family:inherit!important;color:inherit!important;font-size:inherit!important;font-weight:inherit!important}"]}),t}();function u(){return Object(o.__awaiter)(this,void 0,void 0,(function(){return Object(o.__generator)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout((function(){return t()}))}))];case 1:return t.sent(),[2]}}))}))}var g=function(){function t(){}return t.ɵmod=a.Kb({type:t}),t.ɵinj=a.Jb({factory:function(i){return new(i||t)},imports:[[n.c]]}),t}(),f=function(){function t(){}return t.prototype.ngOnInit=function(){},t.ɵfac=function(i){return new(i||t)},t.ɵcmp=a.Gb({type:t,selectors:[["app-quote"]],decls:5,vars:0,consts:[[1,"citation-text"]],template:function(t,i){1&t&&(a.Sb(0,"blockquote",0),a.wc(1,' "Plus tu y croiras, plus tu pourras, plus tu réussiras." '),a.Nb(2,"br"),a.Sb(3,"strong"),a.wc(4,"- Charles Aznavour"),a.Qb(),a.Qb())},styles:["blockquote[_ngcontent-%COMP%]{border-radius:3px;position:relative;font-style:italic;font-size:1.6rem;text-align:center;padding:1rem 1.2rem;max-width:80rem;margin:1rem auto 2rem;color:#fff;background:#1b2330}"]}),t}(),d=[{path:"",component:function(){function t(){this.tags=[{weight:32,text:"Angular"},{weight:24,text:"Node.js"},{weight:18,text:"MongoDB"},{weight:20,text:"Firebase"},{weight:16,text:"Typescript"},{weight:16,text:"Javascript"}],this.options={dragControl:!0,clickToFront:500,initial:[.1,0],weight:!0}}return t.prototype.ngOnInit=function(){},t.prototype.tagClicked=function(t){console.log(t)},t.ɵfac=function(i){return new(i||t)},t.ɵcmp=a.Gb({type:t,selectors:[["app-home"]],decls:20,vars:2,consts:[[1,"content"],["id","home","data-aos","zoom-in",1,"container","centered"],[1,"about"],[1,"avatar",2,"text-align","center"],["width","300","alt","Hajaniain image","src","https://avatars0.githubusercontent.com/u/6097819?s=460&v=4"],[1,"my-name"],[1,"social-links"],["href","https://twitter.com/_hajaniain","target","_blank",1,"navigation-link"],[1,"fab","fa-3x","fa-twitter"],["href","https://www.linkedin.com/in/hajaniaina-marius-rafaliarintsoa-a5b202b9","target","_blank",1,"navigation-link"],[1,"fab","fa-3x","fa-linkedin"],["href","https://github.com/hajaniain","target","_blank",1,"navigation-link"],[1,"fab","fa-3x","fa-github"],[3,"tags","options","tagClick"],[1,"citation","container","page"]],template:function(t,i){1&t&&(a.Sb(0,"div",0),a.Sb(1,"section",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Nb(4,"img",4),a.Qb(),a.Sb(5,"h1",5),a.wc(6," Rafaliarintsoa Hajaniaina "),a.Qb(),a.Sb(7,"ul",6),a.Sb(8,"li"),a.Sb(9,"a",7),a.Nb(10,"i",8),a.Qb(),a.Qb(),a.Sb(11,"li"),a.Sb(12,"a",9),a.Nb(13,"i",10),a.Qb(),a.Qb(),a.Sb(14,"li"),a.Sb(15,"a",11),a.Nb(16,"i",12),a.Qb(),a.Qb(),a.Qb(),a.Sb(17,"tag-canvas",13),a.ac("tagClick",(function(t){return i.tagClicked(t)})),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Sb(18,"section",14),a.Nb(19,"app-quote"),a.Qb()),2&t&&(a.zb(17),a.ic("tags",i.tags)("options",i.options))},directives:[c,f],styles:["p[_ngcontent-%COMP%]{margin-bottom:2.3rem;letter-spacing:.05em}.navigation[_ngcontent-%COMP%]{margin-top:2rem}.social-links[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{color:#0080ab}section.container.page[_ngcontent-%COMP%], section.container.post[_ngcontent-%COMP%]{max-width:90rem}.content[_ngcontent-%COMP%]{height:100vh}.social-title[_ngcontent-%COMP%]{color:#fff;margin-left:5px}.my-name[_ngcontent-%COMP%]{font-size:1.8em;font-weight:100}@media only screen and (max-device-width:440px){.social-title[_ngcontent-%COMP%]{display:none}}"]}),t}()}],m=function(){function t(){}return t.ɵmod=a.Kb({type:t}),t.ɵinj=a.Jb({factory:function(i){return new(i||t)},imports:[[s.f.forChild(d)],s.f]}),t}(),p=e("PCNd");e.d(i,"HomeModule",(function(){return w}));var w=function(){function t(){}return t.ɵmod=a.Kb({type:t}),t.ɵinj=a.Jb({factory:function(i){return new(i||t)},imports:[[n.c,p.a,m,g]]}),t}()},EcEN:function(t,i,e){var n=e("xDdU"),s=e("xk4V"),a=s;a.v1=n,a.v4=s,t.exports=a},I2ZF:function(t,i){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,i){var n=i||0;return[e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],"-",e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]],e[t[n++]]].join("")}},xDdU:function(t,i,e){var n,s,a=e("4fRq"),o=e("I2ZF"),h=0,r=0;t.exports=function(t,i,e){var l=i&&e||0,c=i||[],u=(t=t||{}).node||n,g=void 0!==t.clockseq?t.clockseq:s;if(null==u||null==g){var f=a();null==u&&(u=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==g&&(g=s=16383&(f[6]<<8|f[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:r+1,p=d-h+(m-r)/1e4;if(p<0&&void 0===t.clockseq&&(g=g+1&16383),(p<0||d>h)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=d,r=m,s=g;var w=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;c[l++]=w>>>24&255,c[l++]=w>>>16&255,c[l++]=w>>>8&255,c[l++]=255&w;var x=d/4294967296*1e4&268435455;c[l++]=x>>>8&255,c[l++]=255&x,c[l++]=x>>>24&15|16,c[l++]=x>>>16&255,c[l++]=g>>>8|128,c[l++]=255&g;for(var v=0;v<6;++v)c[l+v]=u[v];return i||o(c)}},xk4V:function(t,i,e){var n=e("4fRq"),s=e("I2ZF");t.exports=function(t,i,e){var a=i&&e||0;"string"==typeof t&&(i="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,i)for(var h=0;h<16;++h)i[a+h]=o[h];return i||s(o)}}}]);